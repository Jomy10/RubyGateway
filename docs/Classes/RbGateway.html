<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
 
    <link rel="stylesheet" href="../css/fw2020.css">
    
    <title>RbGateway Class Reference</title>
    
  </head>
  <body data-root-path="./../">

  <header class="j2-header">
  <div class="navbar navbar-expand navbar-dark j2-titlebar">
    <a class="sr-only-focusable sr-only font-weight-slightly-bold pr-2" href="#main-content">Skip to main content</a>
    <a class="nav-item nav-link pl-0 pt-1 pr-2 d-md-none" id="nav-toggle-button" role="button" aria-controls="nav-column" aria-expanded="false" aria-label="Toggle navigation" href="#">
      <span class="navbar-toggler-icon"></span>
    </a>
  
    <div style="align-items-baseline">
      <div class="navbar-brand mr-1 font-weight-slightly-bold">
        <a href="../index.html">RubyGateway 3.2.0 Docs</a>
      </div>
      <span class="navbar-text j2-coverage font-weight-slightly-bold small d-none d-lg-inline-block mr-2">(100% documented)</span>
    </div>
  
    <div class="navbar-nav ml-auto justify-content-end flex-fill">
  
      <form class="form-inline d-none d-md-flex" role="search">
        <input class="form-control form-control-sm w-100" type="search" placeHolder="Search" aria-label="Search" aria-keyshortcuts="/" data-search-format="span">
      </form>
  
      <a class="nav-item nav-link d-none d-sm-inline" rel="external" href="https://github.com/johnfairh/RubyGateway">
        <svg class="j2-title-svg" xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 16 16"><title>Open on GitHub</title><path fill="currentcolor" fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"/>
        </svg>
      </a>
  
    </div>
  </div>
  
  <!-- narrow-style searchbar -->
  
  <div class="container-fluid j2-titlebar d-md-none">
    <div class="row">
      <div class="col">
        <form class="pb-2">
          <input class="form-control form-control-sm" type="search" placeHolder="Search" aria-label="Search" aria-keyshortcuts="/" data-search-format="div">
        </form>
      </div>
    </div>
  </div>

  <!-- breadcrumb bar, jazzy doesn't really support -->

  <nav aria-label="breadcrumb" class="small">
    <ol class="breadcrumb j2-breadcrumb">
      <li class="breadcrumb-item"><a href="../index.html">RubyGateway Reference</a></li>
      <li class="breadcrumb-item" aria-current="page">RbGateway Class Reference</li>
    </ol>
  </nav>

  </header>

  <div class="container-fluid">
    <div class="row">
      <div class="col-auto d-none d-md-flex flex-column j2-nav" id="nav-column">
        <nav aria-label="swift" class="j2-swift">
          <ul class="j2-nav-list">
            <li class="j2-nav-group">
              <a class="j2-nav-item" href="../Guides.html">Guides</a>
              <ul class="j2-nav-sublist">
                <li>
                  <a class="j2-nav-item" href="../user-guide.html">User Guide</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="../todo.html">TODO</a>
                </li>
              </ul>
            </li>
            <li class="j2-nav-group">
              <a class="j2-nav-item" href="../Main%20APIs.html">Main APIs</a>
              <ul class="j2-nav-sublist">
                <li>
                  <a class="j2-nav-item" href="../Classes/RbGateway.html">RbGateway</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="../Classes/RbGateway/Verbosity.html">– Verbosity</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="../Classes/RbObject.html">RbObject</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="../Classes/RbObjectAccess.html">RbObjectAccess</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="../Structs/RbObjectCollection.html">RbObjectCollection</a>
                </li>
              </ul>
            </li>
            <li class="j2-nav-group">
              <a class="j2-nav-item" href="../Swift%20Method%20APIs.html">Swift Method APIs</a>
              <ul class="j2-nav-sublist">
                <li>
                  <a class="j2-nav-item" href="../Structs/RbMethodArgsSpec.html">RbMethodArgsSpec</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="../Swift%20Method%20APIs.html#s11RubyGateway16RbMethodCallbacka">RbMethodCallback</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="../Swift%20Method%20APIs.html#s11RubyGateway21RbBoundMethodCallbacka">RbBoundMethodCallback</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="../Swift%20Method%20APIs.html#s11RubyGateway25RbBoundMethodVoidCallbacka">RbBoundMethodVoidCallback</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="../Structs/RbMethod.html">RbMethod</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="../Structs/RbMethodArgs.html">RbMethodArgs</a>
                </li>
              </ul>
            </li>
            <li class="j2-nav-group">
              <a class="j2-nav-item" href="../Other%20APIs.html">Other APIs</a>
              <ul class="j2-nav-sublist">
                <li>
                  <a class="j2-nav-item" href="../Other%20APIs.html#s11RubyGateway15RbBlockCallbacka">RbBlockCallback</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="../Enums/RbBlockRetention.html">RbBlockRetention</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="../Structs/RbBreak.html">RbBreak</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="../Structs/RbProc.html">RbProc</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="../Structs/RbSymbol.html">RbSymbol</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="../Enums/RbThread.html">RbThread</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="../Enums/RbThread/UnblockingFunc.html">– UnblockingFunc</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="../Enums/RbType.html">RbType</a>
                </li>
              </ul>
            </li>
            <li class="j2-nav-group">
              <a class="j2-nav-item" href="../Error%20Handling.html">Error Handling</a>
              <ul class="j2-nav-sublist">
                <li>
                  <a class="j2-nav-item" href="../Enums/RbError.html">RbError</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="../Enums/RbError/History.html">– History</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="../Structs/RbException.html">RbException</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="../Structs/RbFailableAccess.html">RbFailableAccess</a>
                </li>
              </ul>
            </li>
            <li class="j2-nav-group">
              <a class="j2-nav-item" href="../Swift%20Interop.html">Swift Interop</a>
              <ul class="j2-nav-sublist">
                <li>
                  <a class="j2-nav-item" href="../Protocols/RbObjectConvertible.html">RbObjectConvertible</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="../Extensions/String.html">String</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="../Extensions/Bool.html">Bool</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="../Extensions/UInt.html">UInt</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="../Extensions/UInt64.html">UInt64</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="../Extensions/UInt32.html">UInt32</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="../Extensions/UInt16.html">UInt16</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="../Extensions/UInt8.html">UInt8</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="../Extensions/Int.html">Int</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="../Extensions/Int64.html">Int64</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="../Extensions/Int32.html">Int32</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="../Extensions/Int16.html">Int16</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="../Extensions/Int8.html">Int8</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="../Extensions/Double.html">Double</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="../Extensions/Float.html">Float</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="../Extensions/Array.html">Array</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="../Extensions/ArraySlice.html">ArraySlice</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="../Extensions/Dictionary.html">Dictionary</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="../Extensions/Set.html">Set</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="../Extensions/Range.html">Range</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="../Extensions/ClosedRange.html">ClosedRange</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="../Structs/RbComplex.html">RbComplex</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="../Structs/RbRational.html">RbRational</a>
                </li>
              </ul>
            </li>
          </ul>
        </nav>
      </div>
      <main class="col col-xl-8 j2-article px-lg-4 px-xl-5" id="article-column">
        <article class="j2-article-wrapper" id="main-content">

        <!-- todo top of article.... -->

        <section>
          <header>
            <h1 class="j2-anchor">
              <span>RbGateway</span>
            </h1>
          </header>
          <div class="j2-callout j2-callout-declaration">
            <div class="j2-callout-title" role="heading" aria-level="5">Swift?</div>
            <pre><code class="language-swift">public final class RbGateway : <a href="../Classes/RbObjectAccess.html">RbObjectAccess</a></code></pre>
          </div>

          <div class="clearfix">
            <p>Provides top-level Ruby services: information about the Ruby VM, evaluate
expressions, access various kinds of Ruby objects, and define new Ruby
classes, modules, and functions.</p>

<p>You cannot instantiate this type.  Instead RubyGateway exports a public
instance <code>Ruby</code>.  Among other things this permits a dynamic member lookup
programming style.</p>

<p>The Ruby VM is initialized when the object is first accessed and is
automatically stopped when the process ends.  The VM can be manually shut
down before process exit by calling <code><a href="../Classes/RbGateway.html#s11RubyGateway02RbB0C7cleanups5Int32VyF">RbGateway.cleanup()</a></code> but once this has
been done the VM cannot be restarted and subsequent calls to RubyGateway
services will fail.</p>

<p>The loadpath (where <code>require</code> looks) is set to the <code>lib/ruby</code> directories
adjacent to the <code>libruby</code> the program is linked against and <code>$RUBYLIB</code>.
RubyGems are enabled.</p>
<h2 id='accessing-ruby-objects' class='j2-anchor heading'><span data-anchor-id=accessing-ruby-objects>Accessing Ruby objects</span></h2>

<p>The class inherits from <code><a href="../Classes/RbObjectAccess.html">RbObjectAccess</a></code> which lets you look up constants
or call functions as you would at the top level of a Ruby script, for example:</p>
<pre><code class="language-swift">import RubyGateway

print(&quot;Ruby version is \(Ruby.version)&quot;)

do {
   try Ruby.require(filename: &quot;rouge&quot;)
   let html = try Ruby.get(&quot;Rouge&quot;).call(&quot;highlight&quot;, args: [&quot;let a = 1&quot;, &quot;swift&quot;, &quot;html&quot;])
} catch {
}
</code></pre>
<p>If you just want to create a Ruby object of some class, see
<code><a href="../Classes/RbObject.html#s11RubyGateway8RbObjectC7ofClass4args6kwArgsACSgSS_SayAA0cD11Convertible_pSgGs13KeyValuePairsVySSAIGtcfc">RbObject.init(ofClass:args:kwArgs:)</a></code>.</p>
<h2 id='running-ruby-code' class='j2-anchor heading'><span data-anchor-id=running-ruby-code>Running Ruby code</span></h2>

<p>Use <code><a href="../Classes/RbGateway.html#s11RubyGateway02RbB0C4eval4rubyAA0C6ObjectCSS_tKF">RbGateway.eval(ruby:)</a></code> to evaulate a Ruby expression in the current VM.
For example:</p>
<pre><code class="language-swift">let result = try Ruby.eval(ruby: &quot;Rouge.highlight(&#39;let a = 1&#39;, &#39;swift&#39;, &#39;html&#39;)&quot;)
</code></pre><h2 id='defining-new-ruby-classes' class='j2-anchor heading'><span data-anchor-id=defining-new-ruby-classes>Defining new Ruby classes</span></h2>

<p>Use <code><a href="../Classes/RbGateway.html#s11RubyGateway02RbB0C11defineClass_6parent5underAA0C6ObjectCSS_AHSgAItKF">RbGateway.defineClass(_:parent:under:)</a></code> and <code><a href="../Classes/RbGateway.html#s11RubyGateway02RbB0C12defineModule_5underAA0C6ObjectCSS_AGSgtKF">RbGateway.defineModule(_:under:)</a></code>
to define new classes and modules.  Then add methods using <code><a href="../Classes/RbObject.html#s11RubyGateway8RbObjectC12defineMethod_8argsSpec4bodyySS_AA0cf4ArgsH0VA2C_AA0cF0VtKctKF">RbObject.defineMethod(...)</a></code>
and <code><a href="../Classes/RbObject.html#s11RubyGateway8RbObjectC21defineSingletonMethod_8argsSpec4bodyySS_AA0cg4ArgsI0VA2C_AA0cG0VtKctKF">RbObject.defineSingletonMethod(...)</a></code>.</p>

          </div>
        </section>

        <hr/>
        <section>
          <h1 class="sr-only">Topics</h1>
          <section>
            <section id="s11RubyGateway02RbB0C7cleanups5Int32VyF" class="j2-item">
              <a name="//apple_ref/cpp/Method/cleanup()" class="dashAnchor"></a>
              <h4 class="sr-only">cleanup()</h4>
              <a class="j2-item-title" data-toggle="collapse" href="#_s11RubyGateway02RbB0C7cleanups5Int32VyF" role="button" aria-expanded="false" aria-controls="_s11RubyGateway02RbB0C7cleanups5Int32VyF"><code>cleanup()</code></a>
              <div class="collapse j2-item-popopen-wrapper" id="_s11RubyGateway02RbB0C7cleanups5Int32VyF">
                <div class="j2-item-popopen">
                  <div class="j2-item-popopen-pointer" role="none"></div>
                  <div class="j2-item-popopen-body">
                    <div class="clearfix">
                      <p>Explicitly shut down Ruby and release resources.
This includes calling <code>END{}</code> code and procs registered by <code>Kernel.#at_exit</code>.</p>

<p>You generally don&rsquo;t need to call this: it happens automatically as part of
process exit.</p>

<p>Once called you cannot continue to use Ruby in this process: the VM cannot
be re-setup.</p>

                    </div>
                    <h5>Declaration</h5>
                    <div class="j2-item-declaration">
                    <div class="j2-callout-title" role="heading" aria-level="6">Swift</div>
                    <pre><code class="language-swift">public func cleanup() -&gt; <a href="https://developer.apple.com/documentation/swift/int32/">Int32</a></code></pre>
                    </div>
                    <h5>Return Value</h5>
                    <p>0 if the cleanup went fine, otherwise some error code from Ruby.</p>
                    <nav class="j2-item-nav" aria-label="item details">
                      <span class="j2-item-nav-item"><a href="https://github.com/johnfairh/RubyGateway/tree/master/Sources/RubyGateway/RbGateway.swift#L91-L93">Show on GitHub</a></span>
                    </nav>
                  </div>
                <div>
              </div>
            </section>
            <section id="s11RubyGateway02RbB0C5getID3forSuSS_tKF" class="j2-item">
              <a name="//apple_ref/cpp/Method/getID(for:)" class="dashAnchor"></a>
              <h4 class="sr-only">getID(for:)</h4>
              <a class="j2-item-title" data-toggle="collapse" href="#_s11RubyGateway02RbB0C5getID3forSuSS_tKF" role="button" aria-expanded="false" aria-controls="_s11RubyGateway02RbB0C5getID3forSuSS_tKF"><code>getID(for:)</code></a>
              <div class="collapse j2-item-popopen-wrapper" id="_s11RubyGateway02RbB0C5getID3forSuSS_tKF">
                <div class="j2-item-popopen">
                  <div class="j2-item-popopen-pointer" role="none"></div>
                  <div class="j2-item-popopen-body">
                    <div class="clearfix">
                      <p>Get an <code><a href="https://developer.apple.com/documentation/cloudkit/ckrecord/id/">ID</a></code> ready to call a method, for example.</p>

<p>This is public to permit interop with <code>CRuby</code>.  It is not
needed for regular RubyGateway use.</p>
<div class="j2-callout j2-callout-throws">
    <p class="j2-callout-title">Throws</p>
    <code><a href="../Enums/RbError.html#s11RubyGateway7RbErrorO13rubyExceptionyAcA0cF0VcACmF">RbError.rubyException(_:)</a></code> if Ruby raises an exception.  This
probably means the <code><a href="https://developer.apple.com/documentation/cloudkit/ckrecord/id/">ID</a></code> space is full, which is fairly unlikely.

</div>

                    </div>
                    <h5>Declaration</h5>
                    <div class="j2-item-declaration">
                    <div class="j2-callout-title" role="heading" aria-level="6">Swift</div>
                    <pre><code class="language-swift">public func get<a href="https://developer.apple.com/documentation/cloudkit/ckrecord/id/">ID</a>(for name: <a href="https://developer.apple.com/documentation/swift/string/">String</a>) throws -&gt; <a href="https://developer.apple.com/documentation/cloudkit/ckrecord/id/">ID</a></code></pre>
                    </div>
                    <h5>Parameters</h5>
                    <table class="j2-param-table">
                      <tbody>
                       <tr>
                         <td>
                           <code>
                           name
                           </code>
                         </td>
                         <td>
                           <div>
                             <p>Name to look up, typically constant or method name.</p>
                           </div>
                         </td>
                       </tr>
                      </tbody>
                    </table>
                    <h5>Return Value</h5>
                    <p>The corresponding ID.</p>
                    <nav class="j2-item-nav" aria-label="item details">
                      <span class="j2-item-nav-item"><a href="https://github.com/johnfairh/RubyGateway/tree/master/Sources/RubyGateway/RbGateway.swift#L104-L106">Show on GitHub</a></span>
                    </nav>
                  </div>
                <div>
              </div>
            </section>
            <section id="s11RubyGateway02RbB0C9softSetupSbyF" class="j2-item">
              <a name="//apple_ref/cpp/Method/softSetup()" class="dashAnchor"></a>
              <h4 class="sr-only">softSetup()</h4>
              <a class="j2-item-title" data-toggle="collapse" href="#_s11RubyGateway02RbB0C9softSetupSbyF" role="button" aria-expanded="false" aria-controls="_s11RubyGateway02RbB0C9softSetupSbyF"><code>softSetup()</code></a>
              <div class="collapse j2-item-popopen-wrapper" id="_s11RubyGateway02RbB0C9softSetupSbyF">
                <div class="j2-item-popopen">
                  <div class="j2-item-popopen-pointer" role="none"></div>
                  <div class="j2-item-popopen-body">
                    <div class="clearfix">
                      <p>Attempt to initialize Ruby but swallow any error.</p>

<p>This is for use from places that could be the first use of Ruby but it
is not practical to throw an exception for API or aesthetic reasons.</p>

<p>The idea is that callers can get by long enough for the user to call
<code>require()</code> or <code>send()</code> which will properly report the VM setup error.</p>

<p>This is public to let you implement <code><a href="../Protocols/RbObjectConvertible.html#s11RubyGateway19RbObjectConvertibleP04rubyD0AA0cD0Cvp">RbObjectConvertible.rubyObject</a></code> for
custom types.  It is not required for regular RubyGateway use.</p>

                    </div>
                    <h5>Declaration</h5>
                    <div class="j2-item-declaration">
                    <div class="j2-callout-title" role="heading" aria-level="6">Swift</div>
                    <pre><code class="language-swift">public func softSetup() -&gt; <a href="https://developer.apple.com/documentation/swift/bool/">Bool</a></code></pre>
                    </div>
                    <nav class="j2-item-nav" aria-label="item details">
                      <span class="j2-item-nav-item"><a href="https://github.com/johnfairh/RubyGateway/tree/master/Sources/RubyGateway/RbGateway.swift#L118-L123">Show on GitHub</a></span>
                    </nav>
                  </div>
                <div>
              </div>
            </section>
          </section>
          <section>
            <a name="//apple_ref/cpp/Section/Top Self Instance Variables" class="dashAnchor"></a>
            <h3 class="j2-anchor">
              <span>Top Self Instance Variables
</span>
            </h3>
            <section id="s11RubyGateway02RbB0C14getInstanceVaryAA0C6ObjectCSSKF" class="j2-item">
              <a name="//apple_ref/cpp/Method/getInstanceVar(_:)" class="dashAnchor"></a>
              <h4 class="sr-only">getInstanceVar(_:)</h4>
              <a class="j2-item-title" data-toggle="collapse" href="#_s11RubyGateway02RbB0C14getInstanceVaryAA0C6ObjectCSSKF" role="button" aria-expanded="false" aria-controls="_s11RubyGateway02RbB0C14getInstanceVaryAA0C6ObjectCSSKF"><code>getInstanceVar(_:)</code></a>
              <div class="collapse j2-item-popopen-wrapper" id="_s11RubyGateway02RbB0C14getInstanceVaryAA0C6ObjectCSSKF">
                <div class="j2-item-popopen">
                  <div class="j2-item-popopen-pointer" role="none"></div>
                  <div class="j2-item-popopen-body">
                    <div class="clearfix">
                      <p>Get the value of a top-level instance variable.  Creates a new one with a <code>nil</code>
value if it doesn&rsquo;t exist yet.</p>

<p>This is like doing <code>@f</code> at the top level of a Ruby script.</p>

<p>For a version that does not throw, see <code><a href="../Classes/RbObjectAccess.html#s11RubyGateway14RbObjectAccessC8failableAA0c8FailableE0Vvp">RbObjectAccess.failable</a></code>.</p>
<div class="j2-callout j2-callout-throws">
    <p class="j2-callout-title">Throws</p>
    <code><a href="../Enums/RbError.html#s11RubyGateway7RbErrorO13badIdentifieryACSS_SStcACmF">RbError.badIdentifier(type:id:)</a></code> if <code><a href="https://developer.apple.com/documentation/appkit/nsappearance/name/">name</a></code> looks wrong.
      <code><a href="../Enums/RbError.html#s11RubyGateway7RbErrorO13rubyExceptionyAcA0cF0VcACmF">RbError.rubyException(_:)</a></code> if Ruby has a problem.

</div>

                    </div>
                    <h5>Declaration</h5>
                    <div class="j2-item-declaration">
                    <div class="j2-callout-title" role="heading" aria-level="6">Swift</div>
                    <pre><code class="language-swift">public override func getInstanceVar(_ name: <a href="https://developer.apple.com/documentation/swift/string/">String</a>) throws -&gt; <a href="../Classes/RbObject.html">RbObject</a></code></pre>
                    </div>
                    <h5>Parameters</h5>
                    <table class="j2-param-table">
                      <tbody>
                       <tr>
                         <td>
                           <code>
                           name
                           </code>
                         </td>
                         <td>
                           <div>
                             <p>Name of IVar to get.  Must begin with a single &lsquo;@&rsquo;.</p>
                           </div>
                         </td>
                       </tr>
                      </tbody>
                    </table>
                    <h5>Return Value</h5>
                    <p>Value of the IVar or Ruby <code>nil</code> if it has not been assigned yet.</p>
                    <nav class="j2-item-nav" aria-label="item details">
                      <span class="j2-item-nav-item"><a href="https://github.com/johnfairh/RubyGateway/tree/master/Sources/RubyGateway/RbGateway.swift#L145-L149">Show on GitHub</a></span>
                    </nav>
                  </div>
                <div>
              </div>
            </section>
            <section id="s11RubyGateway02RbB0C14setInstanceVar_8newValueAA0C6ObjectCSS_AA0cI11Convertible_pSgtKF" class="j2-item">
              <a name="//apple_ref/cpp/Method/setInstanceVar(_:newValue:)" class="dashAnchor"></a>
              <h4 class="sr-only">setInstanceVar(_:newValue:)</h4>
              <a class="j2-item-title" data-toggle="collapse" href="#_s11RubyGateway02RbB0C14setInstanceVar_8newValueAA0C6ObjectCSS_AA0cI11Convertible_pSgtKF" role="button" aria-expanded="false" aria-controls="_s11RubyGateway02RbB0C14setInstanceVar_8newValueAA0C6ObjectCSS_AA0cI11Convertible_pSgtKF"><code>setInstanceVar(_:newValue:)</code></a>
              <div class="collapse j2-item-popopen-wrapper" id="_s11RubyGateway02RbB0C14setInstanceVar_8newValueAA0C6ObjectCSS_AA0cI11Convertible_pSgtKF">
                <div class="j2-item-popopen">
                  <div class="j2-item-popopen-pointer" role="none"></div>
                  <div class="j2-item-popopen-body">
                    <div class="clearfix">
                      <p>Set a top-level instance variable.  Creates a new one if it doesn&rsquo;t exist yet.</p>

<p>This is like doing <code>@f = 3</code> at the top level of a Ruby script.</p>

<p>For a version that does not throw, see <code><a href="../Classes/RbObjectAccess.html#s11RubyGateway14RbObjectAccessC8failableAA0c8FailableE0Vvp">RbObjectAccess.failable</a></code>.</p>
<div class="j2-callout j2-callout-throws">
    <p class="j2-callout-title">Throws</p>
    <code><a href="../Enums/RbError.html#s11RubyGateway7RbErrorO13badIdentifieryACSS_SStcACmF">RbError.badIdentifier(type:id:)</a></code> if <code><a href="https://developer.apple.com/documentation/appkit/nsappearance/name/">name</a></code> looks wrong.
      <code><a href="../Enums/RbError.html#s11RubyGateway7RbErrorO13rubyExceptionyAcA0cF0VcACmF">RbError.rubyException(_:)</a></code> if Ruby has a problem.

</div>

                    </div>
                    <h5>Declaration</h5>
                    <div class="j2-item-declaration">
                    <div class="j2-callout-title" role="heading" aria-level="6">Swift</div>
                    <pre><code class="language-swift">@discardable<a href="https://developer.apple.com/documentation/avfoundation/avassetimagegenerator/result/">Result</a>
public override func setInstanceVar(_ name: <a href="https://developer.apple.com/documentation/swift/string/">String</a>, new<a href="https://developer.apple.com/documentation/coremedia/cmattachmentbearerattachments/value/">Value</a>: <a href="../Protocols/RbObjectConvertible.html">RbObjectConvertible</a>?) throws -&gt; <a href="../Classes/RbObject.html">RbObject</a></code></pre>
                    </div>
                    <h5>Parameters</h5>
                    <table class="j2-param-table">
                      <tbody>
                       <tr>
                         <td>
                           <code>
                           name
                           </code>
                         </td>
                         <td>
                           <div>
                             <p>Name of IVar to set.  Must begin with a single &lsquo;@&rsquo;.</p>
                           </div>
                         </td>
                       </tr>
                       <tr>
                         <td>
                           <code>
                           newValue
                           </code>
                         </td>
                         <td>
                           <div>
                             <p>New value to set.</p>
                           </div>
                         </td>
                       </tr>
                      </tbody>
                    </table>
                    <h5>Return Value</h5>
                    <p>The value that was set.</p>
                    <nav class="j2-item-nav" aria-label="item details">
                      <span class="j2-item-nav-item"><a href="https://github.com/johnfairh/RubyGateway/tree/master/Sources/RubyGateway/RbGateway.swift#L163-L170">Show on GitHub</a></span>
                    </nav>
                  </div>
                <div>
              </div>
            </section>
          </section>
          <section>
            <a name="//apple_ref/cpp/Section/Defining New Classes and Modules" class="dashAnchor"></a>
            <h3 class="j2-anchor">
              <span>Defining New Classes and Modules
</span>
            </h3>
            <section id="s11RubyGateway02RbB0C11defineClass_6parent5underAA0C6ObjectCSS_AHSgAItKF" class="j2-item">
              <a name="//apple_ref/cpp/Method/defineClass(_:parent:under:)" class="dashAnchor"></a>
              <h4 class="sr-only">defineClass(_:parent:under:)</h4>
              <a class="j2-item-title" data-toggle="collapse" href="#_s11RubyGateway02RbB0C11defineClass_6parent5underAA0C6ObjectCSS_AHSgAItKF" role="button" aria-expanded="false" aria-controls="_s11RubyGateway02RbB0C11defineClass_6parent5underAA0C6ObjectCSS_AHSgAItKF"><code>defineClass(_:parent:under:)</code></a>
              <div class="collapse j2-item-popopen-wrapper" id="_s11RubyGateway02RbB0C11defineClass_6parent5underAA0C6ObjectCSS_AHSgAItKF">
                <div class="j2-item-popopen">
                  <div class="j2-item-popopen-pointer" role="none"></div>
                  <div class="j2-item-popopen-body">
                    <div class="clearfix">
                      <p>Define a new, empty, Ruby class.</p>
<div class="j2-callout j2-callout-throws">
    <p class="j2-callout-title">Throws</p>
    <code><a href="../Enums/RbError.html#s11RubyGateway7RbErrorO13badIdentifieryACSS_SStcACmF">RbError.badIdentifier(type:id:)</a></code> if <code><a href="https://developer.apple.com/documentation/appkit/nsappearance/name/">name</a></code> is bad.  <code><a href="../Enums/RbError.html#s11RubyGateway7RbErrorO7badTypeyACSScACmF">RbError.badType(...)</a></code> if
      <code>parent</code> is provided but is not a class, or if <code>under</code> is neither class nor
      module. <code><a href="../Enums/RbError.html#s11RubyGateway7RbErrorO13rubyExceptionyAcA0cF0VcACmF">RbError.rubyException(...)</a></code> if Ruby is unhappy with the definition,
      for example when the class already exists with a different parent.

</div>

                    </div>
                    <h5>Declaration</h5>
                    <div class="j2-item-declaration">
                    <div class="j2-callout-title" role="heading" aria-level="6">Swift</div>
                    <pre><code class="language-swift">@discardable<a href="https://developer.apple.com/documentation/avfoundation/avassetimagegenerator/result/">Result</a>
public func defineClass(_ name: <a href="https://developer.apple.com/documentation/swift/string/">String</a>, parent: <a href="../Classes/RbObject.html">RbObject</a>? = nil, under: <a href="../Classes/RbObject.html">RbObject</a>? = nil) throws -&gt; <a href="../Classes/RbObject.html">RbObject</a></code></pre>
                    </div>
                    <h5>Parameters</h5>
                    <table class="j2-param-table">
                      <tbody>
                       <tr>
                         <td>
                           <code>
                           name
                           </code>
                         </td>
                         <td>
                           <div>
                             <p>Name of the class.</p>
                           </div>
                         </td>
                       </tr>
                       <tr>
                         <td>
                           <code>
                           parent
                           </code>
                         </td>
                         <td>
                           <div>
                             <p>Parent class for the new class to inherit from.  The default
                is <code>nil</code> which means the new class inherits from <code>Object</code>.</p>
                           </div>
                         </td>
                       </tr>
                       <tr>
                         <td>
                           <code>
                           under
                           </code>
                         </td>
                         <td>
                           <div>
                             <p>The class or module under which to nest this new class.  The
               default is <code>nil</code> which means the class is at the top level.</p>
                           </div>
                         </td>
                       </tr>
                      </tbody>
                    </table>
                    <h5>Return Value</h5>
                    <p>The class object for the new class.</p>
                    <nav class="j2-item-nav" aria-label="item details">
                      <span class="j2-item-nav-item"><a href="https://github.com/johnfairh/RubyGateway/tree/master/Sources/RubyGateway/RbClass.swift#L122-L138">Show on GitHub</a></span>
                    </nav>
                  </div>
                <div>
              </div>
            </section>
            <section id="s11RubyGateway02RbB0C11defineClass_5under11initializerAA0C6ObjectCSS_AHSgxyctKRlzClF" class="j2-item">
              <a name="//apple_ref/cpp/Method/defineClass(_:under:initializer:)" class="dashAnchor"></a>
              <h4 class="sr-only">defineClass(_:under:initializer:)</h4>
              <a class="j2-item-title" data-toggle="collapse" href="#_s11RubyGateway02RbB0C11defineClass_5under11initializerAA0C6ObjectCSS_AHSgxyctKRlzClF" role="button" aria-expanded="false" aria-controls="_s11RubyGateway02RbB0C11defineClass_5under11initializerAA0C6ObjectCSS_AHSgxyctKRlzClF"><code>defineClass(_:under:initializer:)</code></a>
              <div class="collapse j2-item-popopen-wrapper" id="_s11RubyGateway02RbB0C11defineClass_5under11initializerAA0C6ObjectCSS_AHSgxyctKRlzClF">
                <div class="j2-item-popopen">
                  <div class="j2-item-popopen-pointer" role="none"></div>
                  <div class="j2-item-popopen-body">
                    <div class="clearfix">
                      <p>Define a new, empty, Ruby class associated with a Swift class.</p>

<p>The Ruby class inherits from the Ruby <code><a href="https://developer.apple.com/documentation/appstoreconnectapi/betaapplocalizationcreaterequest/data/">Data</a></code> class.</p>

<p>When any new instance of the Ruby class is created, the <code>initializer</code> closure
is called to get hold of an instance of the bound Swift class.  Typically this closure
is an initializer for the Swift class.  A strong reference is held to the Swift object
while the Ruby object is live; this reference is released only when the Ruby object is
garbage-collected.</p>

<p>If you want to implement the Ruby <code>initialize</code> entrypoint to support passing arguments
to <code>new</code> then you need to do that separately with one of the
<code><a href="../Classes/RbObject.html#s11RubyGateway8RbObjectC12defineMethod_8argsSpec6methodySS_AA0cf4ArgsH0Vq_AA0cF0VKcxctKRlzCAA0cD11ConvertibleR_r0_lF">RbObject.defineMethod(_:argsSpec:method:)</a></code> methods.</p>

<p>Ruby methods defined with <code><a href="../Classes/RbObject.html#s11RubyGateway8RbObjectC12defineMethod_8argsSpec6methodySS_AA0cf4ArgsH0Vq_AA0cF0VKcxctKRlzCAA0cD11ConvertibleR_r0_lF">RbObject.defineMethod(_:argsSpec:method:)</a></code> can be bound
directly to methods of the <code>SwiftPeer</code> class.</p>
<div class="j2-callout j2-callout-throws">
    <p class="j2-callout-title">Throws</p>
    <code><a href="../Enums/RbError.html#s11RubyGateway7RbErrorO13badIdentifieryACSS_SStcACmF">RbError.badIdentifier(type:id:)</a></code> if <code><a href="https://developer.apple.com/documentation/appkit/nsappearance/name/">name</a></code> is bad.  <code><a href="../Enums/RbError.html#s11RubyGateway7RbErrorO7badTypeyACSScACmF">RbError.badType(...)</a></code> if
      <code>parent</code> is provided but is not a class, or if <code>under</code> is neither class nor
      module. <code><a href="../Enums/RbError.html#s11RubyGateway7RbErrorO13rubyExceptionyAcA0cF0VcACmF">RbError.rubyException(...)</a></code> if Ruby is unhappy with the definition,
      for example when the class already exists with a different parent.

</div>

                    </div>
                    <h5>Declaration</h5>
                    <div class="j2-item-declaration">
                    <div class="j2-callout-title" role="heading" aria-level="6">Swift</div>
                    <pre><code class="language-swift">@discardable<a href="https://developer.apple.com/documentation/avfoundation/avassetimagegenerator/result/">Result</a>
public func defineClass&lt;SwiftPeer: AnyObject&gt;(
                _ name: <a href="https://developer.apple.com/documentation/swift/string/">String</a>,
                under: <a href="../Classes/RbObject.html">RbObject</a>? = nil,
                initializer: @escaping () -&gt; SwiftPeer) throws -&gt; <a href="../Classes/RbObject.html">RbObject</a></code></pre>
                    </div>
                    <h5>Parameters</h5>
                    <table class="j2-param-table">
                      <tbody>
                       <tr>
                         <td>
                           <code>
                           name
                           </code>
                         </td>
                         <td>
                           <div>
                             <p>Name of the class.</p>
                           </div>
                         </td>
                       </tr>
                       <tr>
                         <td>
                           <code>
                           under
                           </code>
                         </td>
                         <td>
                           <div>
                             <p>The class or module under which to nest this new class.  The
               default is <code>nil</code> which means the class is at the top level.</p>
                           </div>
                         </td>
                       </tr>
                       <tr>
                         <td>
                           <code>
                           initializer
                           </code>
                         </td>
                         <td>
                           <div>
                             <p>Closure to return an instance of <code>SwiftPeer</code>, typically a new
                     instance.</p>
                           </div>
                         </td>
                       </tr>
                      </tbody>
                    </table>
                    <h5>Return Value</h5>
                    <p>The class object for the new class.</p>
                    <nav class="j2-item-nav" aria-label="item details">
                      <span class="j2-item-nav-item"><a href="https://github.com/johnfairh/RubyGateway/tree/master/Sources/RubyGateway/RbClass.swift#L168-L179">Show on GitHub</a></span>
                    </nav>
                  </div>
                <div>
              </div>
            </section>
            <section id="s11RubyGateway02RbB0C12defineModule_5underAA0C6ObjectCSS_AGSgtKF" class="j2-item">
              <a name="//apple_ref/cpp/Method/defineModule(_:under:)" class="dashAnchor"></a>
              <h4 class="sr-only">defineModule(_:under:)</h4>
              <a class="j2-item-title" data-toggle="collapse" href="#_s11RubyGateway02RbB0C12defineModule_5underAA0C6ObjectCSS_AGSgtKF" role="button" aria-expanded="false" aria-controls="_s11RubyGateway02RbB0C12defineModule_5underAA0C6ObjectCSS_AGSgtKF"><code>defineModule(_:under:)</code></a>
              <div class="collapse j2-item-popopen-wrapper" id="_s11RubyGateway02RbB0C12defineModule_5underAA0C6ObjectCSS_AGSgtKF">
                <div class="j2-item-popopen">
                  <div class="j2-item-popopen-pointer" role="none"></div>
                  <div class="j2-item-popopen-body">
                    <div class="clearfix">
                      <p>Define a new, empty, Ruby module.</p>

<p>For example to create a module <code>Math::Advanced</code>:</p>
<pre><code class="language-swift">let mathModule = try Ruby.get(&quot;Math&quot;)
let advancedMathModule = try Ruby.defineModule(name: &quot;Advanced&quot;, under: mathModule)
</code></pre><div class="j2-callout j2-callout-throws">
    <p class="j2-callout-title">Throws</p>
    <code><a href="../Enums/RbError.html#s11RubyGateway7RbErrorO13badIdentifieryACSS_SStcACmF">RbError.badIdentifier(type:id:)</a></code> if <code><a href="https://developer.apple.com/documentation/appkit/nsappearance/name/">name</a></code> is bad.  <code><a href="../Enums/RbError.html#s11RubyGateway7RbErrorO7badTypeyACSScACmF">RbError.badType(...)</a></code>
      if <code>under</code> is neither class nor module.  <code><a href="../Enums/RbError.html#s11RubyGateway7RbErrorO13rubyExceptionyAcA0cF0VcACmF">RbError.rubyException(...)</a></code> if
      Ruby is unhappy with the definition, for example when a non-module constant
      already exists with this name.

</div>

                    </div>
                    <h5>Declaration</h5>
                    <div class="j2-item-declaration">
                    <div class="j2-callout-title" role="heading" aria-level="6">Swift</div>
                    <pre><code class="language-swift">@discardable<a href="https://developer.apple.com/documentation/avfoundation/avassetimagegenerator/result/">Result</a>
public func defineModule(_ name: <a href="https://developer.apple.com/documentation/swift/string/">String</a>, under: <a href="../Classes/RbObject.html">RbObject</a>? = nil) throws -&gt; <a href="../Classes/RbObject.html">RbObject</a></code></pre>
                    </div>
                    <h5>Parameters</h5>
                    <table class="j2-param-table">
                      <tbody>
                       <tr>
                         <td>
                           <code>
                           name
                           </code>
                         </td>
                         <td>
                           <div>
                             <p>Name of the module.</p>
                           </div>
                         </td>
                       </tr>
                       <tr>
                         <td>
                           <code>
                           under
                           </code>
                         </td>
                         <td>
                           <div>
                             <p>The class or module under which to nest this new module.</p>
                           </div>
                         </td>
                       </tr>
                      </tbody>
                    </table>
                    <h5>Return Value</h5>
                    <p>The module object for the new module.</p>
                    <nav class="j2-item-nav" aria-label="item details">
                      <span class="j2-item-nav-item"><a href="https://github.com/johnfairh/RubyGateway/tree/master/Sources/RubyGateway/RbClass.swift#L197-L209">Show on GitHub</a></span>
                    </nav>
                  </div>
                <div>
              </div>
            </section>
          </section>
          <section>
            <a name="//apple_ref/cpp/Section/VM Properties" class="dashAnchor"></a>
            <h3 class="j2-anchor">
              <span>VM Properties
</span>
            </h3>
            <section id="s11RubyGateway02RbB0C5debugSbvp" class="j2-item">
              <a name="//apple_ref/cpp/Property/debug" class="dashAnchor"></a>
              <h4 class="sr-only">debug</h4>
              <a class="j2-item-title" data-toggle="collapse" href="#_s11RubyGateway02RbB0C5debugSbvp" role="button" aria-expanded="false" aria-controls="_s11RubyGateway02RbB0C5debugSbvp"><code>debug</code></a>
              <div class="collapse j2-item-popopen-wrapper" id="_s11RubyGateway02RbB0C5debugSbvp">
                <div class="j2-item-popopen">
                  <div class="j2-item-popopen-pointer" role="none"></div>
                  <div class="j2-item-popopen-body">
                    <div class="clearfix">
                      <p>Debug mode for Ruby code, sets <code>$DEBUG</code> / <code>$-d</code>.</p>

                    </div>
                    <h5>Declaration</h5>
                    <div class="j2-item-declaration">
                    <div class="j2-callout-title" role="heading" aria-level="6">Swift</div>
                    <pre><code class="language-swift">public var debug: <a href="https://developer.apple.com/documentation/swift/bool/">Bool</a> { get set }</code></pre>
                    </div>
                    <nav class="j2-item-nav" aria-label="item details">
                      <span class="j2-item-nav-item"><a href="https://github.com/johnfairh/RubyGateway/tree/master/Sources/RubyGateway/RbGateway.swift#L177-L192">Show on GitHub</a></span>
                    </nav>
                  </div>
                <div>
              </div>
            </section>
            <section id="s11RubyGateway02RbB0C9VerbosityO" class="j2-item">
              <a name="//apple_ref/cpp/Enum/Verbosity" class="dashAnchor"></a>
              <h4 class="sr-only">Verbosity</h4>
              <a class="j2-item-title" data-toggle="collapse" href="#_s11RubyGateway02RbB0C9VerbosityO" role="button" aria-expanded="false" aria-controls="_s11RubyGateway02RbB0C9VerbosityO"><code>Verbosity</code></a>
              <div class="collapse j2-item-popopen-wrapper" id="_s11RubyGateway02RbB0C9VerbosityO">
                <div class="j2-item-popopen">
                  <div class="j2-item-popopen-pointer" role="none"></div>
                  <div class="j2-item-popopen-body">
                    <div class="clearfix">
                      <p>Verbosity setting for Ruby scripts - affects <code>Kernel#warn</code> etc.</p>

                    </div>
                    <h5>Declaration</h5>
                    <div class="j2-item-declaration">
                    <div class="j2-callout-title" role="heading" aria-level="6">Swift</div>
                    <pre><code class="language-swift">public enum Verbosity</code></pre>
                    </div>
                    <nav class="j2-item-nav" aria-label="item details">
                      <span class="j2-item-nav-item"><a href="../Classes/RbGateway/Verbosity.html">Show members</a></span>
                      <span class="j2-item-nav-item"><a href="https://github.com/johnfairh/RubyGateway/tree/master/Sources/RubyGateway/RbGateway.swift#L195-L202">Show on GitHub</a></span>
                    </nav>
                  </div>
                <div>
              </div>
            </section>
            <section id="s11RubyGateway02RbB0C7verboseAC9VerbosityOvp" class="j2-item">
              <a name="//apple_ref/cpp/Property/verbose" class="dashAnchor"></a>
              <h4 class="sr-only">verbose</h4>
              <a class="j2-item-title" data-toggle="collapse" href="#_s11RubyGateway02RbB0C7verboseAC9VerbosityOvp" role="button" aria-expanded="false" aria-controls="_s11RubyGateway02RbB0C7verboseAC9VerbosityOvp"><code>verbose</code></a>
              <div class="collapse j2-item-popopen-wrapper" id="_s11RubyGateway02RbB0C7verboseAC9VerbosityOvp">
                <div class="j2-item-popopen">
                  <div class="j2-item-popopen-pointer" role="none"></div>
                  <div class="j2-item-popopen-body">
                    <div class="clearfix">
                      <p>Verbose mode for Ruby code, sets <code>$VERBOSE</code> / <code>$-v</code>.</p>

                    </div>
                    <h5>Declaration</h5>
                    <div class="j2-item-declaration">
                    <div class="j2-callout-title" role="heading" aria-level="6">Swift</div>
                    <pre><code class="language-swift">public var verbose: <a href="../Classes/RbGateway/Verbosity.html">Verbosity</a> { get set }</code></pre>
                    </div>
                    <nav class="j2-item-nav" aria-label="item details">
                      <span class="j2-item-nav-item"><a href="https://github.com/johnfairh/RubyGateway/tree/master/Sources/RubyGateway/RbGateway.swift#L205-L229">Show on GitHub</a></span>
                    </nav>
                  </div>
                <div>
              </div>
            </section>
            <section id="s11RubyGateway02RbB0C10scriptNameSSvp" class="j2-item">
              <a name="//apple_ref/cpp/Property/scriptName" class="dashAnchor"></a>
              <h4 class="sr-only">scriptName</h4>
              <a class="j2-item-title" data-toggle="collapse" href="#_s11RubyGateway02RbB0C10scriptNameSSvp" role="button" aria-expanded="false" aria-controls="_s11RubyGateway02RbB0C10scriptNameSSvp"><code>scriptName</code></a>
              <div class="collapse j2-item-popopen-wrapper" id="_s11RubyGateway02RbB0C10scriptNameSSvp">
                <div class="j2-item-popopen">
                  <div class="j2-item-popopen-pointer" role="none"></div>
                  <div class="j2-item-popopen-body">
                    <div class="clearfix">
                      <p>Value of Ruby <code>$PROGRAM_NAME</code> / <code>$0</code>.</p>

                    </div>
                    <h5>Declaration</h5>
                    <div class="j2-item-declaration">
                    <div class="j2-callout-title" role="heading" aria-level="6">Swift</div>
                    <pre><code class="language-swift">public var script<a href="https://developer.apple.com/documentation/appkit/nsappearance/name/">Name</a>: <a href="https://developer.apple.com/documentation/swift/string/">String</a> { get set }</code></pre>
                    </div>
                    <nav class="j2-item-nav" aria-label="item details">
                      <span class="j2-item-nav-item"><a href="https://github.com/johnfairh/RubyGateway/tree/master/Sources/RubyGateway/RbGateway.swift#L232-L247">Show on GitHub</a></span>
                    </nav>
                  </div>
                <div>
              </div>
            </section>
            <section id="s11RubyGateway02RbB0C11taintChecksSbvp" class="j2-item">
              <a name="//apple_ref/cpp/Property/taintChecks" class="dashAnchor"></a>
              <h4 class="sr-only">taintChecks</h4>
              <a class="j2-item-title" data-toggle="collapse" href="#_s11RubyGateway02RbB0C11taintChecksSbvp" role="button" aria-expanded="false" aria-controls="_s11RubyGateway02RbB0C11taintChecksSbvp"><code>taintChecks</code></a>
              <div class="collapse j2-item-popopen-wrapper" id="_s11RubyGateway02RbB0C11taintChecksSbvp">
                <div class="j2-item-popopen">
                  <div class="j2-item-popopen-pointer" role="none"></div>
                  <div class="j2-item-popopen-body">
                    <div class="clearfix">
                      <p>Whether taint checks are enabled.</p>

<p>This is <code>true</code> for a safe level of 1, and <code>false</code> for a safe level
of 0.  Changing it from <code>false</code> to <code>true</code> has no effect on Ruby 2.5
and earlier.</p>
<h3 id='history' class='j2-anchor heading'><span data-anchor-id=history>History</span></h3>

<ul>
<li>In Ruby master, the safe level is VM-wide and can be changed at will.
In earlier Ruby it was per-thread and could not be decreased.</li>
<li>Safe levels 2 and 3 were removed in Ruby 2.3.</li>
<li>Safe level 4 was removed in Ruby 2.1.</li>
</ul>
<h3 id='forward-looking-analysis' class='j2-anchor heading'><span data-anchor-id=forward-looking-analysis>Forward-looking analysis</span></h3>

<ul>
<li>This feature is likely to disappear entirely.  Its current incarnation
should be regarded as a debugging feature rather than a security
feature.  See Ruby#14250.</li>
</ul>

                    </div>
                    <h5>Declaration</h5>
                    <div class="j2-item-declaration">
                    <div class="j2-callout-title" role="heading" aria-level="6">Swift</div>
                    <pre><code class="language-swift">public var taintChecks: <a href="https://developer.apple.com/documentation/swift/bool/">Bool</a> { get set }</code></pre>
                    </div>
                    <nav class="j2-item-nav" aria-label="item details">
                      <span class="j2-item-nav-item"><a href="https://github.com/johnfairh/RubyGateway/tree/master/Sources/RubyGateway/RbGateway.swift#L265-L276">Show on GitHub</a></span>
                    </nav>
                  </div>
                <div>
              </div>
            </section>
            <section id="s11RubyGateway02RbB0C10apiVersions5Int32V_A2Ftvp" class="j2-item">
              <a name="//apple_ref/cpp/Property/apiVersion" class="dashAnchor"></a>
              <h4 class="sr-only">apiVersion</h4>
              <a class="j2-item-title" data-toggle="collapse" href="#_s11RubyGateway02RbB0C10apiVersions5Int32V_A2Ftvp" role="button" aria-expanded="false" aria-controls="_s11RubyGateway02RbB0C10apiVersions5Int32V_A2Ftvp"><code>apiVersion</code></a>
              <div class="collapse j2-item-popopen-wrapper" id="_s11RubyGateway02RbB0C10apiVersions5Int32V_A2Ftvp">
                <div class="j2-item-popopen">
                  <div class="j2-item-popopen-pointer" role="none"></div>
                  <div class="j2-item-popopen-body">
                    <div class="clearfix">
                      <p>The component major/minor/teeny version numbers of Ruby being used.</p>

                    </div>
                    <h5>Declaration</h5>
                    <div class="j2-item-declaration">
                    <div class="j2-callout-title" role="heading" aria-level="6">Swift</div>
                    <pre><code class="language-swift">public var api<a href="https://developer.apple.com/documentation/network/nwprotocolip/options/version/">Version</a>: (<a href="https://developer.apple.com/documentation/swift/int32/">Int32</a>, <a href="https://developer.apple.com/documentation/swift/int32/">Int32</a>, <a href="https://developer.apple.com/documentation/swift/int32/">Int32</a>) { get }</code></pre>
                    </div>
                    <nav class="j2-item-nav" aria-label="item details">
                      <span class="j2-item-nav-item"><a href="https://github.com/johnfairh/RubyGateway/tree/master/Sources/RubyGateway/RbGateway.swift#L279-L281">Show on GitHub</a></span>
                    </nav>
                  </div>
                <div>
              </div>
            </section>
            <section id="s11RubyGateway02RbB0C7versionSSvp" class="j2-item">
              <a name="//apple_ref/cpp/Property/version" class="dashAnchor"></a>
              <h4 class="sr-only">version</h4>
              <a class="j2-item-title" data-toggle="collapse" href="#_s11RubyGateway02RbB0C7versionSSvp" role="button" aria-expanded="false" aria-controls="_s11RubyGateway02RbB0C7versionSSvp"><code>version</code></a>
              <div class="collapse j2-item-popopen-wrapper" id="_s11RubyGateway02RbB0C7versionSSvp">
                <div class="j2-item-popopen">
                  <div class="j2-item-popopen-pointer" role="none"></div>
                  <div class="j2-item-popopen-body">
                    <div class="clearfix">
                      <p>The version number triple of Ruby being used, for example <em>2.5.0</em>.</p>

                    </div>
                    <h5>Declaration</h5>
                    <div class="j2-item-declaration">
                    <div class="j2-callout-title" role="heading" aria-level="6">Swift</div>
                    <pre><code class="language-swift">public var version: <a href="https://developer.apple.com/documentation/swift/string/">String</a> { get }</code></pre>
                    </div>
                    <nav class="j2-item-nav" aria-label="item details">
                      <span class="j2-item-nav-item"><a href="https://github.com/johnfairh/RubyGateway/tree/master/Sources/RubyGateway/RbGateway.swift#L284-L286">Show on GitHub</a></span>
                    </nav>
                  </div>
                <div>
              </div>
            </section>
            <section id="s11RubyGateway02RbB0C18versionDescriptionSSvp" class="j2-item">
              <a name="//apple_ref/cpp/Property/versionDescription" class="dashAnchor"></a>
              <h4 class="sr-only">versionDescription</h4>
              <a class="j2-item-title" data-toggle="collapse" href="#_s11RubyGateway02RbB0C18versionDescriptionSSvp" role="button" aria-expanded="false" aria-controls="_s11RubyGateway02RbB0C18versionDescriptionSSvp"><code>versionDescription</code></a>
              <div class="collapse j2-item-popopen-wrapper" id="_s11RubyGateway02RbB0C18versionDescriptionSSvp">
                <div class="j2-item-popopen">
                  <div class="j2-item-popopen-pointer" role="none"></div>
                  <div class="j2-item-popopen-body">
                    <div class="clearfix">
                      <p>The full version string for the Ruby being used.</p>

<p>For example <em>ruby 2.5.0p0 (2017-12-25 revision 61468) [x86_64-darwin17]</em>.</p>

                    </div>
                    <h5>Declaration</h5>
                    <div class="j2-item-declaration">
                    <div class="j2-callout-title" role="heading" aria-level="6">Swift</div>
                    <pre><code class="language-swift">public var version<a href="https://developer.apple.com/documentation/tvml/text_elements/description/">Description</a>: <a href="https://developer.apple.com/documentation/swift/string/">String</a> { get }</code></pre>
                    </div>
                    <nav class="j2-item-nav" aria-label="item details">
                      <span class="j2-item-nav-item"><a href="https://github.com/johnfairh/RubyGateway/tree/master/Sources/RubyGateway/RbGateway.swift#L291-L293">Show on GitHub</a></span>
                    </nav>
                  </div>
                <div>
              </div>
            </section>
            <section id="s11RubyGateway02RbB0C12setArgumentsyySaySSGKF" class="j2-item">
              <a name="//apple_ref/cpp/Method/setArguments(_:)" class="dashAnchor"></a>
              <h4 class="sr-only">setArguments(_:)</h4>
              <a class="j2-item-title" data-toggle="collapse" href="#_s11RubyGateway02RbB0C12setArgumentsyySaySSGKF" role="button" aria-expanded="false" aria-controls="_s11RubyGateway02RbB0C12setArgumentsyySaySSGKF"><code>setArguments(_:)</code></a>
              <div class="collapse j2-item-popopen-wrapper" id="_s11RubyGateway02RbB0C12setArgumentsyySaySSGKF">
                <div class="j2-item-popopen">
                  <div class="j2-item-popopen-pointer" role="none"></div>
                  <div class="j2-item-popopen-body">
                    <div class="clearfix">
                      <p>Set the program arguments for the Ruby VM.</p>

<p>Updates the <code>ARGV</code> constant.</p>
<div class="j2-callout j2-callout-throws">
    <p class="j2-callout-title">Throws</p>
    Various <code><a href="../Enums/RbError.html">RbError</a></code>s if the arguments can&rsquo;t be set.

</div>

                    </div>
                    <h5>Declaration</h5>
                    <div class="j2-item-declaration">
                    <div class="j2-callout-title" role="heading" aria-level="6">Swift</div>
                    <pre><code class="language-swift">public func setArguments(_ newArgv: [<a href="https://developer.apple.com/documentation/swift/string/">String</a>]) throws</code></pre>
                    </div>
                    <h5>Parameters</h5>
                    <table class="j2-param-table">
                      <tbody>
                       <tr>
                         <td>
                           <code>
                           newArgv
                           </code>
                         </td>
                         <td>
                           <div>
                             <p>The strings to make up the new version of <code>ARGV</code>.</p>
                           </div>
                         </td>
                       </tr>
                      </tbody>
                    </table>
                    <nav class="j2-item-nav" aria-label="item details">
                      <span class="j2-item-nav-item"><a href="https://github.com/johnfairh/RubyGateway/tree/master/Sources/RubyGateway/RbGateway.swift#L301-L308">Show on GitHub</a></span>
                    </nav>
                  </div>
                <div>
              </div>
            </section>
          </section>
          <section>
            <a name="//apple_ref/cpp/Section/Ruby Code Execution" class="dashAnchor"></a>
            <h3 class="j2-anchor">
              <span>Ruby Code Execution
</span>
            </h3>
            <section id="s11RubyGateway02RbB0C4eval4rubyAA0C6ObjectCSS_tKF" class="j2-item">
              <a name="//apple_ref/cpp/Method/eval(ruby:)" class="dashAnchor"></a>
              <h4 class="sr-only">eval(ruby:)</h4>
              <a class="j2-item-title" data-toggle="collapse" href="#_s11RubyGateway02RbB0C4eval4rubyAA0C6ObjectCSS_tKF" role="button" aria-expanded="false" aria-controls="_s11RubyGateway02RbB0C4eval4rubyAA0C6ObjectCSS_tKF"><code>eval(ruby:)</code></a>
              <div class="collapse j2-item-popopen-wrapper" id="_s11RubyGateway02RbB0C4eval4rubyAA0C6ObjectCSS_tKF">
                <div class="j2-item-popopen">
                  <div class="j2-item-popopen-pointer" role="none"></div>
                  <div class="j2-item-popopen-body">
                    <div class="clearfix">
                      <p>Evaluate some Ruby and return the result.</p>
<div class="j2-callout j2-callout-throws">
    <p class="j2-callout-title">Throws</p>
    <code><a href="../Enums/RbError.html">RbError</a></code> if something goes wrong.

</div><div class="j2-callout j2-callout-note">
    <p class="j2-callout-title">Note</p>
    This is a lower level than <code>Kernel#eval</code> and less flexible - if you
need that function then access it via <code>RbGateway.call(&quot;eval&quot;)</code>.
Don&rsquo;t be tempted by <code>rb_eval_string_wrap()</code>, it is broken. #10466.

</div>

                    </div>
                    <h5>Declaration</h5>
                    <div class="j2-item-declaration">
                    <div class="j2-callout-title" role="heading" aria-level="6">Swift</div>
                    <pre><code class="language-swift">@discardable<a href="https://developer.apple.com/documentation/avfoundation/avassetimagegenerator/result/">Result</a>
public func eval(ruby: <a href="https://developer.apple.com/documentation/swift/string/">String</a>) throws -&gt; <a href="../Classes/RbObject.html">RbObject</a></code></pre>
                    </div>
                    <h5>Parameters</h5>
                    <table class="j2-param-table">
                      <tbody>
                       <tr>
                         <td>
                           <code>
                           ruby
                           </code>
                         </td>
                         <td>
                           <div>
                             <p>Ruby code to execute at the top level.</p>
                           </div>
                         </td>
                       </tr>
                      </tbody>
                    </table>
                    <h5>Return Value</h5>
                    <p>The result of executing the code.</p>
                    <nav class="j2-item-nav" aria-label="item details">
                      <span class="j2-item-nav-item"><a href="https://github.com/johnfairh/RubyGateway/tree/master/Sources/RubyGateway/RbGateway.swift#L323-L328">Show on GitHub</a></span>
                    </nav>
                  </div>
                <div>
              </div>
            </section>
            <section id="s11RubyGateway02RbB0C7require8filenameSbSS_tKF" class="j2-item">
              <a name="//apple_ref/cpp/Method/require(filename:)" class="dashAnchor"></a>
              <h4 class="sr-only">require(filename:)</h4>
              <a class="j2-item-title" data-toggle="collapse" href="#_s11RubyGateway02RbB0C7require8filenameSbSS_tKF" role="button" aria-expanded="false" aria-controls="_s11RubyGateway02RbB0C7require8filenameSbSS_tKF"><code>require(filename:)</code></a>
              <div class="collapse j2-item-popopen-wrapper" id="_s11RubyGateway02RbB0C7require8filenameSbSS_tKF">
                <div class="j2-item-popopen">
                  <div class="j2-item-popopen-pointer" role="none"></div>
                  <div class="j2-item-popopen-body">
                    <div class="clearfix">
                      <p>Load a Ruby file once-only.  See <code>Kernel#require</code>, but note this
method is dispatched dynamically so it will invoke any replacements of
<code>require</code>.</p>
<div class="j2-callout j2-callout-throws">
    <p class="j2-callout-title">Throws</p>
    <code><a href="../Enums/RbError.html">RbError</a></code> if something goes wrong.  This usually means that Ruby
      couldn&rsquo;t find the file.

</div>

                    </div>
                    <h5>Declaration</h5>
                    <div class="j2-item-declaration">
                    <div class="j2-callout-title" role="heading" aria-level="6">Swift</div>
                    <pre><code class="language-swift">@discardable<a href="https://developer.apple.com/documentation/avfoundation/avassetimagegenerator/result/">Result</a>
public func require(filename: <a href="https://developer.apple.com/documentation/swift/string/">String</a>) throws -&gt; <a href="https://developer.apple.com/documentation/swift/bool/">Bool</a></code></pre>
                    </div>
                    <h5>Parameters</h5>
                    <table class="j2-param-table">
                      <tbody>
                       <tr>
                         <td>
                           <code>
                           filename
                           </code>
                         </td>
                         <td>
                           <div>
                             <p>The name of the file to load.</p>
                           </div>
                         </td>
                       </tr>
                      </tbody>
                    </table>
                    <h5>Return Value</h5>
                    <p><code>true</code> if the file was loaded OK, <code>false</code> if it is already loaded.</p>
                    <nav class="j2-item-nav" aria-label="item details">
                      <span class="j2-item-nav-item"><a href="https://github.com/johnfairh/RubyGateway/tree/master/Sources/RubyGateway/RbGateway.swift#L339-L343">Show on GitHub</a></span>
                    </nav>
                  </div>
                <div>
              </div>
            </section>
            <section id="s11RubyGateway02RbB0C4load8filename4wrapySS_SbtKF" class="j2-item">
              <a name="//apple_ref/cpp/Method/load(filename:wrap:)" class="dashAnchor"></a>
              <h4 class="sr-only">load(filename:wrap:)</h4>
              <a class="j2-item-title" data-toggle="collapse" href="#_s11RubyGateway02RbB0C4load8filename4wrapySS_SbtKF" role="button" aria-expanded="false" aria-controls="_s11RubyGateway02RbB0C4load8filename4wrapySS_SbtKF"><code>load(filename:wrap:)</code></a>
              <div class="collapse j2-item-popopen-wrapper" id="_s11RubyGateway02RbB0C4load8filename4wrapySS_SbtKF">
                <div class="j2-item-popopen">
                  <div class="j2-item-popopen-pointer" role="none"></div>
                  <div class="j2-item-popopen-body">
                    <div class="clearfix">
                      <p>See Ruby <code>Kernel#load</code>. Load a file, reloads if already loaded.</p>
<div class="j2-callout j2-callout-throws">
    <p class="j2-callout-title">Throws</p>
    <code><a href="../Enums/RbError.html">RbError</a></code> if something goes wrong.

</div>

                    </div>
                    <h5>Declaration</h5>
                    <div class="j2-item-declaration">
                    <div class="j2-callout-title" role="heading" aria-level="6">Swift</div>
                    <pre><code class="language-swift">public func load(filename: <a href="https://developer.apple.com/documentation/swift/string/">String</a>, wrap: <a href="https://developer.apple.com/documentation/swift/bool/">Bool</a> = false) throws</code></pre>
                    </div>
                    <h5>Parameters</h5>
                    <table class="j2-param-table">
                      <tbody>
                       <tr>
                         <td>
                           <code>
                           filename
                           </code>
                         </td>
                         <td>
                           <div>
                             <p>The name of the file to load</p>
                           </div>
                         </td>
                       </tr>
                       <tr>
                         <td>
                           <code>
                           wrap
                           </code>
                         </td>
                         <td>
                           <div>
                             <p>If <code>true</code>, load the file into a fresh anonymous namespace
instead of the current program.  See <code>Kernel#load</code>.</p>
                           </div>
                         </td>
                       </tr>
                      </tbody>
                    </table>
                    <nav class="j2-item-nav" aria-label="item details">
                      <span class="j2-item-nav-item"><a href="https://github.com/johnfairh/RubyGateway/tree/master/Sources/RubyGateway/RbGateway.swift#L351-L358">Show on GitHub</a></span>
                    </nav>
                  </div>
                <div>
              </div>
            </section>
          </section>
          <section>
            <a name="//apple_ref/cpp/Section/Swift Global Variables" class="dashAnchor"></a>
            <h3 class="j2-anchor">
              <span>Swift Global Variables
</span>
            </h3>
            <section id="s11RubyGateway02RbB0C15defineGlobalVar_3getySS_xyctKAA0C17ObjectConvertibleRzlF" class="j2-item">
              <a name="//apple_ref/cpp/Method/defineGlobalVar(_:get:)" class="dashAnchor"></a>
              <h4 class="sr-only">defineGlobalVar(_:get:)</h4>
              <a class="j2-item-title" data-toggle="collapse" href="#_s11RubyGateway02RbB0C15defineGlobalVar_3getySS_xyctKAA0C17ObjectConvertibleRzlF" role="button" aria-expanded="false" aria-controls="_s11RubyGateway02RbB0C15defineGlobalVar_3getySS_xyctKAA0C17ObjectConvertibleRzlF"><code>defineGlobalVar(_:get:)</code></a>
              <div class="collapse j2-item-popopen-wrapper" id="_s11RubyGateway02RbB0C15defineGlobalVar_3getySS_xyctKAA0C17ObjectConvertibleRzlF">
                <div class="j2-item-popopen">
                  <div class="j2-item-popopen-pointer" role="none"></div>
                  <div class="j2-item-popopen-body">
                    <div class="clearfix">
                      <p>Create a readonly Ruby global variable implemented by Swift code.</p>

<p>If your global variable is not a simple Swift value type then use <code><a href="../Classes/RbObject.html">RbObject</a></code>
as the closure return type.</p>
<div class="j2-callout j2-callout-throws">
    <p class="j2-callout-title">Throws</p>
    <code><a href="../Enums/RbError.html#s11RubyGateway7RbErrorO13badIdentifieryACSS_SStcACmF">RbError.badIdentifier(type:id:)</a></code> if <code><a href="https://developer.apple.com/documentation/appkit/nsappearance/name/">name</a></code> is bad; some other kind of error if Ruby is
      not working.

</div>

                    </div>
                    <h5>Declaration</h5>
                    <div class="j2-item-declaration">
                    <div class="j2-callout-title" role="heading" aria-level="6">Swift</div>
                    <pre><code class="language-swift">public func defineGlobalVar&lt;T: <a href="../Protocols/RbObjectConvertible.html">RbObjectConvertible</a>&gt;(_ name: <a href="https://developer.apple.com/documentation/swift/string/">String</a>,
                                                    get: @escaping () -&gt; T) throws</code></pre>
                    </div>
                    <h5>Parameters</h5>
                    <table class="j2-param-table">
                      <tbody>
                       <tr>
                         <td>
                           <code>
                           name
                           </code>
                         </td>
                         <td>
                           <div>
                             <p>The name of the global variable.  Must begin with <code>$</code>.  Any existing global
  variable with this name is overwritten.</p>
                           </div>
                         </td>
                       </tr>
                       <tr>
                         <td>
                           <code>
                           get
                           </code>
                         </td>
                         <td>
                           <div>
                             <p>Function called whenever Ruby code reads the global variable.</p>
                           </div>
                         </td>
                       </tr>
                      </tbody>
                    </table>
                    <nav class="j2-item-nav" aria-label="item details">
                      <span class="j2-item-nav-item"><a href="https://github.com/johnfairh/RubyGateway/tree/master/Sources/RubyGateway/RbGlobalVar.swift#L99-L104">Show on GitHub</a></span>
                    </nav>
                  </div>
                <div>
              </div>
            </section>
            <section id="s11RubyGateway02RbB0C15defineGlobalVar_3get3setySS_xycyxKctKAA0C17ObjectConvertibleRzlF" class="j2-item">
              <a name="//apple_ref/cpp/Method/defineGlobalVar(_:get:set:)" class="dashAnchor"></a>
              <h4 class="sr-only">defineGlobalVar(_:get:set:)</h4>
              <a class="j2-item-title" data-toggle="collapse" href="#_s11RubyGateway02RbB0C15defineGlobalVar_3get3setySS_xycyxKctKAA0C17ObjectConvertibleRzlF" role="button" aria-expanded="false" aria-controls="_s11RubyGateway02RbB0C15defineGlobalVar_3get3setySS_xycyxKctKAA0C17ObjectConvertibleRzlF"><code>defineGlobalVar(_:get:set:)</code></a>
              <div class="collapse j2-item-popopen-wrapper" id="_s11RubyGateway02RbB0C15defineGlobalVar_3get3setySS_xycyxKctKAA0C17ObjectConvertibleRzlF">
                <div class="j2-item-popopen">
                  <div class="j2-item-popopen-pointer" role="none"></div>
                  <div class="j2-item-popopen-body">
                    <div class="clearfix">
                      <p>Create a read-write Ruby global variable implemented by Swift code.</p>

<p>Errors thrown from the setter closure propagate into Ruby as exceptions.  Ruby does
not permit getters to raise exceptions.</p>

<p>If your global variable is not a simple Swift value type then use <code><a href="../Classes/RbObject.html">RbObject</a></code> as the
closure return/argument type; you can manually throw an <code><a href="../Structs/RbException.html">RbException</a></code> from the setter
if the provided Ruby value is the wrong shape.</p>
<div class="j2-callout j2-callout-throws">
    <p class="j2-callout-title">Throws</p>
    <code><a href="../Enums/RbError.html#s11RubyGateway7RbErrorO13badIdentifieryACSS_SStcACmF">RbError.badIdentifier(type:id:)</a></code> if <code><a href="https://developer.apple.com/documentation/appkit/nsappearance/name/">name</a></code> is bad; some other kind of error if Ruby is
      not working.

</div>

                    </div>
                    <h5>Declaration</h5>
                    <div class="j2-item-declaration">
                    <div class="j2-callout-title" role="heading" aria-level="6">Swift</div>
                    <pre><code class="language-swift">public func defineGlobalVar&lt;T: <a href="../Protocols/RbObjectConvertible.html">RbObjectConvertible</a>&gt;(_ name: <a href="https://developer.apple.com/documentation/swift/string/">String</a>,
                                                    get: @escaping () -&gt; T,
                                                    set: @escaping (T) throws -&gt; Void) throws</code></pre>
                    </div>
                    <h5>Parameters</h5>
                    <table class="j2-param-table">
                      <tbody>
                       <tr>
                         <td>
                           <code>
                           name
                           </code>
                         </td>
                         <td>
                           <div>
                             <p>The name of the global variable.  Must begin with <code>$</code>.  Any existing global
  variable with this name is overwritten.</p>
                           </div>
                         </td>
                       </tr>
                       <tr>
                         <td>
                           <code>
                           get
                           </code>
                         </td>
                         <td>
                           <div>
                             <p>Function called whenever Ruby code reads the global variable.</p>
                           </div>
                         </td>
                       </tr>
                       <tr>
                         <td>
                           <code>
                           set
                           </code>
                         </td>
                         <td>
                           <div>
                             <p>Function called whenever Ruby code writes the global variable.</p>
                           </div>
                         </td>
                       </tr>
                      </tbody>
                    </table>
                    <nav class="j2-item-nav" aria-label="item details">
                      <span class="j2-item-nav-item"><a href="https://github.com/johnfairh/RubyGateway/tree/master/Sources/RubyGateway/RbGlobalVar.swift#L122-L128">Show on GitHub</a></span>
                    </nav>
                  </div>
                <div>
              </div>
            </section>
          </section>
          <section>
            <a name="//apple_ref/cpp/Section/Swift Global Functions" class="dashAnchor"></a>
            <h3 class="j2-anchor">
              <span>Swift Global Functions
</span>
            </h3>
            <section id="s11RubyGateway02RbB0C20defineGlobalFunction_8argsSpec4bodyySS_AA0c10MethodArgsH0VAA0C6ObjectCAJ_AA0cJ0VtKctKF" class="j2-item">
              <a name="//apple_ref/cpp/Method/defineGlobalFunction(_:argsSpec:body:)" class="dashAnchor"></a>
              <h4 class="sr-only">defineGlobalFunction(_:argsSpec:body:)</h4>
              <a class="j2-item-title" data-toggle="collapse" href="#_s11RubyGateway02RbB0C20defineGlobalFunction_8argsSpec4bodyySS_AA0c10MethodArgsH0VAA0C6ObjectCAJ_AA0cJ0VtKctKF" role="button" aria-expanded="false" aria-controls="_s11RubyGateway02RbB0C20defineGlobalFunction_8argsSpec4bodyySS_AA0c10MethodArgsH0VAA0C6ObjectCAJ_AA0cJ0VtKctKF"><code>defineGlobalFunction(_:argsSpec:body:)</code></a>
              <div class="collapse j2-item-popopen-wrapper" id="_s11RubyGateway02RbB0C20defineGlobalFunction_8argsSpec4bodyySS_AA0c10MethodArgsH0VAA0C6ObjectCAJ_AA0cJ0VtKctKF">
                <div class="j2-item-popopen">
                  <div class="j2-item-popopen-pointer" role="none"></div>
                  <div class="j2-item-popopen-body">
                    <div class="clearfix">
                      <p>Define a global function that can use positional, keyword, and optional
arguments as well as splatting.  The function can also be passed a block.</p>

<p>Use the <code><a href="../Structs/RbMethod.html">RbMethod</a></code> passed into <code>body</code> to access the function arguments;
RubyBridge validates the arguments according to <code>argsSpec</code> before invoking
this callback.</p>

<p>The first parameter to the <code>body</code> callback is best ignored: it is the Ruby
internal object that is used to implement so-called &ldquo;global functions&rdquo;.</p>
<div class="j2-callout j2-callout-throws">
    <p class="j2-callout-title">Throws</p>
    <p><code><a href="../Enums/RbError.html#s11RubyGateway7RbErrorO13badIdentifieryACSS_SStcACmF">RbError.badIdentifier(type:id:)</a></code> if <code><a href="https://developer.apple.com/documentation/appkit/nsappearance/name/">name</a></code> is bad.</p>

<p>Some other kind of <code><a href="../Enums/RbError.html">RbError</a></code> if Ruby is not working.</p>

</div>

                    </div>
                    <h5>Declaration</h5>
                    <div class="j2-item-declaration">
                    <div class="j2-callout-title" role="heading" aria-level="6">Swift</div>
                    <pre><code class="language-swift">public func defineGlobalFunction(_ name: <a href="https://developer.apple.com/documentation/swift/string/">String</a>,
                                 argsSpec: <a href="../Structs/RbMethodArgsSpec.html">RbMethodArgsSpec</a> = <a href="../Structs/RbMethodArgsSpec.html">RbMethodArgsSpec</a>(),
                                 body: @escaping <a href="../Swift%20Method%20APIs.html#s11RubyGateway16RbMethodCallbacka">RbMethodCallback</a>) throws</code></pre>
                    </div>
                    <h5>Parameters</h5>
                    <table class="j2-param-table">
                      <tbody>
                       <tr>
                         <td>
                           <code>
                           name
                           </code>
                         </td>
                         <td>
                           <div>
                             <p>The function name.</p>
                           </div>
                         </td>
                       </tr>
                       <tr>
                         <td>
                           <code>
                           argsSpec
                           </code>
                         </td>
                         <td>
                           <div>
                             <p>A description of the arguments required by the function.
        The default for this parameter specifies a function that does not
        take any arguments.</p>
                           </div>
                         </td>
                       </tr>
                       <tr>
                         <td>
                           <code>
                           body
                           </code>
                         </td>
                         <td>
                           <div>
                             <p>The Swift code to run when the function is called.</p>
                           </div>
                         </td>
                       </tr>
                      </tbody>
                    </table>
                    <nav class="j2-item-nav" aria-label="item details">
                      <span class="j2-item-nav-item"><a href="https://github.com/johnfairh/RubyGateway/tree/master/Sources/RubyGateway/RbMethod.swift#L582-L588">Show on GitHub</a></span>
                    </nav>
                  </div>
                <div>
              </div>
            </section>
          </section>
        </section>

        </article>
      </main>

      <!-- aux nav -->

      <div class="col-xl d-none d-xl-block j2-aux-nav" id="aux-nav-column">
        <div class="j2-aux-nav-wrapper">
          <h6 class="j2-inline-heading">Topics</h6>
          <nav aria-label="page">
            <ul class="j2-aux-group">
              <li><a href="#">Declaration</a></li>
            </ul>
          </nav>
          <h6 class="j2-inline-heading">Actions</h6>
          <ul class="j2-aux-group">
            <li><a class="j2-aux-action" id="action-search" href="#" role="button" aria-keyshortcuts="/">Search (/)</a></li>
            <li><a class="j2-aux-action" id="action-collapse" href="#" role="button" aria-keyshortcuts="a">
              <span id="action-collapse-expand">Open all (a)</span>
              <span id="action-collapse-collapse" class="d-none">Close all (a)</span>
            </a></li>
          </ul>
        </div>
      </div>

    </div> <!-- end row -->

    <footer class="row">
      <div class="col j2-footer small pt-2">
        <p><p>Distributed under the MIT license.  Maintained by <a class="link" href="mailto:johnfairh@gmail.com" target="_blank" rel="external">John Fairhurst</a>.</p></p>
        <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.13.1</a>-<a class="link" href="https://github.com/johnfairh/jazzy" target="_blank" rel="external">bebop</a>, originally a <a class="link" href="https://realm.io" target="_blank" rel="external">Realm</a> project.  Theme from <a href="https://github.com/johnfairh/J2">J2</a>.</p>
      </div>
    </footer>
  </div> <!-- container -->

  <script src="../js/dependencies.min.js"></script>
  <script src="../js/fw2020.js"></script>
  </body>

</html>
