<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
 
    <link rel="stylesheet" href="css/fw2020.css">
    
    <title>Main APIs  Reference</title>
    
  </head>
  <body data-root-path="./">

  <header class="j2-header">
  <div class="navbar navbar-expand navbar-dark j2-titlebar">
    <a class="sr-only-focusable sr-only font-weight-slightly-bold pr-2" href="#main-content">Skip to main content</a>
    <a class="nav-item nav-link pl-0 pt-1 pr-2 d-md-none" id="nav-toggle-button" role="button" aria-controls="nav-column" aria-expanded="false" aria-label="Toggle navigation" href="#">
      <span class="navbar-toggler-icon"></span>
    </a>
  
    <div style="align-items-baseline">
      <div class="navbar-brand mr-1 font-weight-slightly-bold">
        <a href="index.html">RubyGateway 3.2.0 Docs</a>
      </div>
      <span class="navbar-text j2-coverage font-weight-slightly-bold small d-none d-lg-inline-block mr-2">(100% documented)</span>
    </div>
  
    <div class="navbar-nav ml-auto justify-content-end flex-fill">
  
      <form class="form-inline d-none d-md-flex" role="search">
        <input class="form-control form-control-sm w-100" type="search" placeHolder="Search" aria-label="Search" aria-keyshortcuts="/" data-search-format="span">
      </form>
  
      <a class="nav-item nav-link d-none d-sm-inline" rel="external" href="https://github.com/johnfairh/RubyGateway">
        <svg class="j2-title-svg" xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 16 16"><title>Open on GitHub</title><path fill="currentcolor" fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"/>
        </svg>
      </a>
  
    </div>
  </div>
  
  <!-- narrow-style searchbar -->
  
  <div class="container-fluid j2-titlebar d-md-none">
    <div class="row">
      <div class="col">
        <form class="pb-2">
          <input class="form-control form-control-sm" type="search" placeHolder="Search" aria-label="Search" aria-keyshortcuts="/" data-search-format="div">
        </form>
      </div>
    </div>
  </div>

  <!-- breadcrumb bar, jazzy doesn't really support -->

  <nav aria-label="breadcrumb" class="small">
    <ol class="breadcrumb j2-breadcrumb">
      <li class="breadcrumb-item"><a href="index.html">RubyGateway Reference</a></li>
      <li class="breadcrumb-item" aria-current="page">Main APIs  Reference</li>
    </ol>
  </nav>

  </header>

  <div class="container-fluid">
    <div class="row">
      <div class="col-auto d-none d-md-flex flex-column j2-nav" id="nav-column">
        <nav aria-label="swift" class="j2-swift">
          <ul class="j2-nav-list">
            <li class="j2-nav-group">
              <a class="j2-nav-item" href="Guides.html">Guides</a>
              <ul class="j2-nav-sublist">
                <li>
                  <a class="j2-nav-item" href="user-guide.html">User Guide</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="todo.html">TODO</a>
                </li>
              </ul>
            </li>
            <li class="j2-nav-group">
              <a class="j2-nav-item" href="Main%20APIs.html">Main APIs</a>
              <ul class="j2-nav-sublist">
                <li>
                  <a class="j2-nav-item" href="Classes/RbGateway.html">RbGateway</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="Classes/RbGateway/Verbosity.html">– Verbosity</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="Classes/RbObject.html">RbObject</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="Classes/RbObjectAccess.html">RbObjectAccess</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="Structs/RbObjectCollection.html">RbObjectCollection</a>
                </li>
              </ul>
            </li>
            <li class="j2-nav-group">
              <a class="j2-nav-item" href="Swift%20Method%20APIs.html">Swift Method APIs</a>
              <ul class="j2-nav-sublist">
                <li>
                  <a class="j2-nav-item" href="Structs/RbMethodArgsSpec.html">RbMethodArgsSpec</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="Swift%20Method%20APIs.html#s11RubyGateway16RbMethodCallbacka">RbMethodCallback</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="Swift%20Method%20APIs.html#s11RubyGateway21RbBoundMethodCallbacka">RbBoundMethodCallback</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="Swift%20Method%20APIs.html#s11RubyGateway25RbBoundMethodVoidCallbacka">RbBoundMethodVoidCallback</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="Structs/RbMethod.html">RbMethod</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="Structs/RbMethodArgs.html">RbMethodArgs</a>
                </li>
              </ul>
            </li>
            <li class="j2-nav-group">
              <a class="j2-nav-item" href="Other%20APIs.html">Other APIs</a>
              <ul class="j2-nav-sublist">
                <li>
                  <a class="j2-nav-item" href="Other%20APIs.html#s11RubyGateway15RbBlockCallbacka">RbBlockCallback</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="Enums/RbBlockRetention.html">RbBlockRetention</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="Structs/RbBreak.html">RbBreak</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="Structs/RbProc.html">RbProc</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="Structs/RbSymbol.html">RbSymbol</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="Enums/RbThread.html">RbThread</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="Enums/RbThread/UnblockingFunc.html">– UnblockingFunc</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="Enums/RbType.html">RbType</a>
                </li>
              </ul>
            </li>
            <li class="j2-nav-group">
              <a class="j2-nav-item" href="Error%20Handling.html">Error Handling</a>
              <ul class="j2-nav-sublist">
                <li>
                  <a class="j2-nav-item" href="Enums/RbError.html">RbError</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="Enums/RbError/History.html">– History</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="Structs/RbException.html">RbException</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="Structs/RbFailableAccess.html">RbFailableAccess</a>
                </li>
              </ul>
            </li>
            <li class="j2-nav-group">
              <a class="j2-nav-item" href="Swift%20Interop.html">Swift Interop</a>
              <ul class="j2-nav-sublist">
                <li>
                  <a class="j2-nav-item" href="Protocols/RbObjectConvertible.html">RbObjectConvertible</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="Extensions/String.html">String</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="Extensions/Bool.html">Bool</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="Extensions/UInt.html">UInt</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="Extensions/UInt64.html">UInt64</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="Extensions/UInt32.html">UInt32</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="Extensions/UInt16.html">UInt16</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="Extensions/UInt8.html">UInt8</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="Extensions/Int.html">Int</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="Extensions/Int64.html">Int64</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="Extensions/Int32.html">Int32</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="Extensions/Int16.html">Int16</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="Extensions/Int8.html">Int8</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="Extensions/Double.html">Double</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="Extensions/Float.html">Float</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="Extensions/Array.html">Array</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="Extensions/ArraySlice.html">ArraySlice</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="Extensions/Dictionary.html">Dictionary</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="Extensions/Set.html">Set</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="Extensions/Range.html">Range</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="Extensions/ClosedRange.html">ClosedRange</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="Structs/RbComplex.html">RbComplex</a>
                </li>
                <li>
                  <a class="j2-nav-item" href="Structs/RbRational.html">RbRational</a>
                </li>
              </ul>
            </li>
          </ul>
        </nav>
      </div>
      <main class="col col-xl-8 j2-article px-lg-4 px-xl-5" id="article-column">
        <article class="j2-article-wrapper" id="main-content">

        <!-- todo top of article.... -->

        <section>
          <header>
            <h1 class="j2-anchor">
              <span>Main APIs</span>
            </h1>
          </header>

          <div class="clearfix">
            <p>These types form the main API to RubyGateway.</p>

          </div>
        </section>

        <hr/>
        <section>
          <h1 class="sr-only">Topics</h1>
          <section>
            <section id="s11RubyGateway02RbB0C" class="j2-item">
              <a name="//apple_ref/cpp/Class/RbGateway" class="dashAnchor"></a>
              <h4 class="sr-only">RbGateway</h4>
              <a class="j2-item-title" data-toggle="collapse" href="#_s11RubyGateway02RbB0C" role="button" aria-expanded="false" aria-controls="_s11RubyGateway02RbB0C"><code>RbGateway</code></a>
              <div class="collapse j2-item-popopen-wrapper" id="_s11RubyGateway02RbB0C">
                <div class="j2-item-popopen">
                  <div class="j2-item-popopen-pointer" role="none"></div>
                  <div class="j2-item-popopen-body">
                    <div class="clearfix">
                      <p>Provides top-level Ruby services: information about the Ruby VM, evaluate
expressions, access various kinds of Ruby objects, and define new Ruby
classes, modules, and functions.</p>

<p>You cannot instantiate this type.  Instead RubyGateway exports a public
instance <code>Ruby</code>.  Among other things this permits a dynamic member lookup
programming style.</p>

<p>The Ruby VM is initialized when the object is first accessed and is
automatically stopped when the process ends.  The VM can be manually shut
down before process exit by calling <code><a href="Classes/RbGateway.html#s11RubyGateway02RbB0C7cleanups5Int32VyF">RbGateway.cleanup()</a></code> but once this has
been done the VM cannot be restarted and subsequent calls to RubyGateway
services will fail.</p>

<p>The loadpath (where <code>require</code> looks) is set to the <code>lib/ruby</code> directories
adjacent to the <code>libruby</code> the program is linked against and <code>$RUBYLIB</code>.
RubyGems are enabled.</p>
<h2 id='accessing-ruby-objects' class='j2-anchor heading'><span data-anchor-id=accessing-ruby-objects>Accessing Ruby objects</span></h2>

<p>The class inherits from <code><a href="Classes/RbObjectAccess.html">RbObjectAccess</a></code> which lets you look up constants
or call functions as you would at the top level of a Ruby script, for example:</p>
<pre><code class="language-swift">import RubyGateway

print(&quot;Ruby version is \(Ruby.version)&quot;)

do {
   try Ruby.require(filename: &quot;rouge&quot;)
   let html = try Ruby.get(&quot;Rouge&quot;).call(&quot;highlight&quot;, args: [&quot;let a = 1&quot;, &quot;swift&quot;, &quot;html&quot;])
} catch {
}
</code></pre>
<p>If you just want to create a Ruby object of some class, see
<code><a href="Classes/RbObject.html#s11RubyGateway8RbObjectC7ofClass4args6kwArgsACSgSS_SayAA0cD11Convertible_pSgGs13KeyValuePairsVySSAIGtcfc">RbObject.init(ofClass:args:kwArgs:)</a></code>.</p>
<h2 id='running-ruby-code' class='j2-anchor heading'><span data-anchor-id=running-ruby-code>Running Ruby code</span></h2>

<p>Use <code><a href="Classes/RbGateway.html#s11RubyGateway02RbB0C4eval4rubyAA0C6ObjectCSS_tKF">RbGateway.eval(ruby:)</a></code> to evaulate a Ruby expression in the current VM.
For example:</p>
<pre><code class="language-swift">let result = try Ruby.eval(ruby: &quot;Rouge.highlight(&#39;let a = 1&#39;, &#39;swift&#39;, &#39;html&#39;)&quot;)
</code></pre><h2 id='defining-new-ruby-classes' class='j2-anchor heading'><span data-anchor-id=defining-new-ruby-classes>Defining new Ruby classes</span></h2>

<p>Use <code><a href="Classes/RbGateway.html#s11RubyGateway02RbB0C11defineClass_6parent5underAA0C6ObjectCSS_AHSgAItKF">RbGateway.defineClass(_:parent:under:)</a></code> and <code><a href="Classes/RbGateway.html#s11RubyGateway02RbB0C12defineModule_5underAA0C6ObjectCSS_AGSgtKF">RbGateway.defineModule(_:under:)</a></code>
to define new classes and modules.  Then add methods using <code><a href="Classes/RbObject.html#s11RubyGateway8RbObjectC12defineMethod_8argsSpec4bodyySS_AA0cf4ArgsH0VA2C_AA0cF0VtKctKF">RbObject.defineMethod(...)</a></code>
and <code><a href="Classes/RbObject.html#s11RubyGateway8RbObjectC21defineSingletonMethod_8argsSpec4bodyySS_AA0cg4ArgsI0VA2C_AA0cG0VtKctKF">RbObject.defineSingletonMethod(...)</a></code>.</p>

                    </div>
                    <h5>Declaration</h5>
                    <div class="j2-item-declaration">
                    <div class="j2-callout-title" role="heading" aria-level="6">Swift</div>
                    <pre><code class="language-swift">public final class RbGateway : <a href="Classes/RbObjectAccess.html">RbObjectAccess</a></code></pre>
                    </div>
                    <nav class="j2-item-nav" aria-label="item details">
                      <span class="j2-item-nav-item"><a href="Classes/RbGateway.html">Show members</a></span>
                      <span class="j2-item-nav-item"><a href="https://github.com/johnfairh/RubyGateway/tree/master/Sources/RubyGateway/RbGateway.swift#L62-L171">Show on GitHub</a></span>
                    </nav>
                  </div>
                <div>
              </div>
            </section>
            <section id="s11RubyGateway8RbObjectC" class="j2-item">
              <a name="//apple_ref/cpp/Class/RbObject" class="dashAnchor"></a>
              <h4 class="sr-only">RbObject</h4>
              <a class="j2-item-title" data-toggle="collapse" href="#_s11RubyGateway8RbObjectC" role="button" aria-expanded="false" aria-controls="_s11RubyGateway8RbObjectC"><code>RbObject</code></a>
              <div class="collapse j2-item-popopen-wrapper" id="_s11RubyGateway8RbObjectC">
                <div class="j2-item-popopen">
                  <div class="j2-item-popopen-pointer" role="none"></div>
                  <div class="j2-item-popopen-body">
                    <div class="clearfix">
                      <p>A Ruby object.</p>

<p>All Ruby objects whatever their type or class are represented using this
Swift type.</p>

<p>Use <code><a href="Classes/RbObject.html#s11RubyGateway8RbObjectC7ofClass4args6kwArgsACSgSS_SayAA0cD11Convertible_pSgGs13KeyValuePairsVySSAIGtcfc">RbObject.init(ofClass:args:kwArgs:)</a></code> to create a new Ruby object of
some class:</p>
<pre><code class="language-swift">let myObj = RbObject(ofClass: &quot;MyModule::MyClass&quot;, args: [&quot;arg1&quot;, 25.3])
</code></pre>
<p>See <code><a href="Classes/RbObjectAccess.html">RbObjectAccess</a></code> for ways to call methods, access properties, and find
constants from an <code>RbObject</code>:</p>
<pre><code class="language-swift">try myObj.set(&quot;name&quot;, &quot;fred&quot;)  // explicit property set

let results = try myObj.call(&quot;process&quot;, args: [&quot;arg1&quot;, 100])

let answer = try myObj.call(&quot;pose&quot;, kwArgs: [&quot;questionNumber&quot;: 40])
</code></pre>
<p>See <code><a href="Classes/RbGateway.html">RbGateway</a></code> and its global instance <code>Ruby</code> for access to the Ruby &lsquo;top self&rsquo;
object to get started finding constants or calling global functions.</p>
<h2 id='converting-to-and-from-swift-types' class='j2-anchor heading'><span data-anchor-id=converting-to-and-from-swift-types>Converting to and from Swift types</span></h2>

<p>Convert <code>RbObject</code>s to Swift types using failable initializers or the throwing
<code>convert</code> methods:</p>
<pre><code class="language-swift">let height = Double(myObj)
let allHeights = Array&lt;Double&gt;(myObj)
let heightDb = Dictionary&lt;String, Double&gt;(myObj)

let width = try myObj.convert(to: Double.self)
model.field = try myObj.convert()
</code></pre>
<p>Check <code><a href="Enums/RbError.html#s11RubyGateway7RbErrorO7historyAC7HistoryVvpZ">RbError.history</a></code> to see the cause of failed initializations.</p>

<p>In the reverse direction, Swift types convert implicitly to <code>RbObject</code>
when passed as arguments via the <code><a href="Protocols/RbObjectConvertible.html">RbObjectConvertible</a></code> protocol.</p>
<h2 id='collection-protocols' class='j2-anchor heading'><span data-anchor-id=collection-protocols>Collection protocols</span></h2>

<p>The conversion example above converts the entire Ruby array to an independent
Swift array.  An alternative is to use <code><a href="Classes/RbObject.html#s11RubyGateway8RbObjectC10collectionAA0cD10CollectionVvp">RbObject.collection</a></code> which provides
a dynamic view onto the Ruby array that supports many Swift collection protocols
so you can update a Ruby array like:</p>
<pre><code class="language-swift">myArrayObj.collection.sort(4..&lt;8)
</code></pre><h2 id='standard-library-conformances' class='j2-anchor heading'><span data-anchor-id=standard-library-conformances>Standard library conformances</span></h2>

<p><code>RbObject</code> conforms to <code><a href="https://developer.apple.com/documentation/swift/hashable/">Hashable</a></code>, <code><a href="https://developer.apple.com/documentation/swift/equatable/">Equatable</a></code>, and <code><a href="https://developer.apple.com/documentation/swift/comparable/">Comparable</a></code> protocols by
forwarding to the corresponding Ruby methods.  Beware though that it is easy
to trigger Ruby errors here that currently cause RubyGateway to crash.  For
example this is poison:</p>
<pre><code class="language-swift">RbObject(3) &lt; RbObject(&quot;barney&quot;)
</code></pre>
<p>Future releases may add more control over what happens here.</p>
<h2 id='arithmetic-operators' class='j2-anchor heading'><span data-anchor-id=arithmetic-operators>Arithmetic operators</span></h2>

<p><code>RbObject</code> conforms to the <code><a href="https://developer.apple.com/documentation/swift/signednumeric/">SignedNumeric</a></code> protocol by forwarding the regular
arithmetic operators to the corresponding Ruby methods.  This means you can
write <code>let a = b + c</code> where all are <code>RbObject</code>s and get a valid value for <code>a</code>
provided <code>b</code> and <code>c</code> are any of the Ruby numeric values or any Ruby class that
happens to support those operators.</p>

<p>Again you must take ensure that your Ruby objects support these operators or
the program will crash.</p>
<h2 id='defining-methods' class='j2-anchor heading'><span data-anchor-id=defining-methods>Defining methods</span></h2>

<p>Use <code><a href="Classes/RbObject.html#s11RubyGateway8RbObjectC12defineMethod_8argsSpec4bodyySS_AA0cf4ArgsH0VA2C_AA0cF0VtKctKF">RbObject.defineMethod(...)</a></code> and <code><a href="Classes/RbObject.html#s11RubyGateway8RbObjectC21defineSingletonMethod_8argsSpec4bodyySS_AA0cg4ArgsI0VA2C_AA0cG0VtKctKF">RbObject.defineSingletonMethod(...)</a></code> to
add methods implemented in Swift to an object or class.  Use
<code><a href="Classes/RbGateway.html#s11RubyGateway02RbB0C11defineClass_6parent5underAA0C6ObjectCSS_AHSgAItKF">RbGateway.defineClass(_:parent:under:)</a></code> to define entirely new classes.</p>

                    </div>
                    <h5>Declaration</h5>
                    <div class="j2-item-declaration">
                    <div class="j2-callout-title" role="heading" aria-level="6">Swift</div>
                    <pre><code class="language-swift">public final class RbObject : <a href="Classes/RbObjectAccess.html">RbObjectAccess</a></code></pre><pre><code class="language-swift">extension RbObject: <a href="Protocols/RbObjectConvertible.html">RbObjectConvertible</a></code></pre><pre><code class="language-swift">extension RbObject: <a href="https://developer.apple.com/documentation/swift/expressiblebystringliteral/">ExpressibleByStringLiteral</a></code></pre><pre><code class="language-swift">extension RbObject: <a href="https://developer.apple.com/documentation/swift/expressiblebybooleanliteral/">ExpressibleByBooleanLiteral</a></code></pre><pre><code class="language-swift">extension RbObject: <a href="https://developer.apple.com/documentation/swift/expressiblebyintegerliteral/">ExpressibleByIntegerLiteral</a></code></pre><pre><code class="language-swift">extension RbObject: <a href="https://developer.apple.com/documentation/swift/expressiblebyfloatliteral/">ExpressibleByFloatLiteral</a></code></pre><pre><code class="language-swift">extension RbObject: <a href="https://developer.apple.com/documentation/swift/expressiblebyarrayliteral/">ExpressibleByArrayLiteral</a></code></pre><pre><code class="language-swift">extension RbObject: <a href="https://developer.apple.com/documentation/swift/expressiblebydictionaryliteral/">ExpressibleByDictionaryLiteral</a></code></pre><pre><code class="language-swift">extension RbObject: <a href="https://developer.apple.com/documentation/swift/customstringconvertible/">CustomStringConvertible</a>,
                    <a href="https://developer.apple.com/documentation/swift/customdebugstringconvertible/">CustomDebugStringConvertible</a>,
                    <a href="https://developer.apple.com/documentation/swift/customplaygrounddisplayconvertible/">CustomPlaygroundDisplayConvertible</a></code></pre><pre><code class="language-swift">extension RbObject: <a href="https://developer.apple.com/documentation/swift/hashable/">Hashable</a>, <a href="https://developer.apple.com/documentation/swift/equatable/">Equatable</a>, <a href="https://developer.apple.com/documentation/swift/comparable/">Comparable</a></code></pre><pre><code class="language-swift">extension RbObject: <a href="https://developer.apple.com/documentation/swift/signednumeric/">SignedNumeric</a></code></pre>
                    </div>
                    <nav class="j2-item-nav" aria-label="item details">
                      <span class="j2-item-nav-item"><a href="Classes/RbObject.html">Show members</a></span>
                      <span class="j2-item-nav-item"><a href="https://github.com/johnfairh/RubyGateway/tree/master/Sources/RubyGateway/RbObject.swift#L88-L187">Show on GitHub</a></span>
                    </nav>
                  </div>
                <div>
              </div>
            </section>
            <section id="s11RubyGateway14RbObjectAccessC" class="j2-item">
              <a name="//apple_ref/cpp/Class/RbObjectAccess" class="dashAnchor"></a>
              <h4 class="sr-only">RbObjectAccess</h4>
              <a class="j2-item-title" data-toggle="collapse" href="#_s11RubyGateway14RbObjectAccessC" role="button" aria-expanded="false" aria-controls="_s11RubyGateway14RbObjectAccessC"><code>RbObjectAccess</code></a>
              <div class="collapse j2-item-popopen-wrapper" id="_s11RubyGateway14RbObjectAccessC">
                <div class="j2-item-popopen">
                  <div class="j2-item-popopen-pointer" role="none"></div>
                  <div class="j2-item-popopen-body">
                    <div class="clearfix">
                      <p>Provides services to manipulate a Ruby object:</p>

<ul>
<li>Call methods;</li>
<li>Access properties and instance variables;</li>
<li>Access class variables;</li>
<li>Access global variables;</li>
<li>Find constants, classes, and modules.</li>
</ul>

<p>The class is abstract.  You use it via <code><a href="Classes/RbObject.html">RbObject</a></code> and the global <code>Ruby</code> instance
of <code><a href="Classes/RbGateway.html">RbGateway</a></code>.</p>

<p>By default all methods throw <code><a href="Enums/RbError.html">RbError</a></code>s if anything goes wrong including
when Ruby raises an exception.  Use the <code><a href="Classes/RbObjectAccess.html#s11RubyGateway14RbObjectAccessC8failableAA0c8FailableE0Vvp">RbObjectAccess.failable</a></code> adapter to
access an alternative API that returns <code>nil</code> on errors instead.  You can still
see any Ruby exceptions via <code><a href="Enums/RbError.html#s11RubyGateway7RbErrorO7historyAC7HistoryVvpZ">RbError.history</a></code>.</p>
<h2 id='calling-methods' class='j2-anchor heading'><span data-anchor-id=calling-methods>Calling methods</span></h2>

<p>Ruby has a few different ways to call methods that are reflected in the
various Swift methods here and their types.  The degrees of freedom are:</p>

<ol>
<li>Call method by name or by symbol;</li>
<li>Pass positional and/or keyword arguments;</li>
<li>Optionally pass a block that can be expressed as a Swift function or
a Ruby Proc.</li>
<li>Method can either raise an exception or return a value.</li>
</ol>

<p>From the simple:</p>
<pre><code class="language-swift">try! obj.call(&quot;myMethod&quot;)
</code></pre>
<p>&hellip;to more baroque:</p>
<pre><code class="language-swift">do {
    let result =
         try obj.call(symbol: myMethodSymbol,
                      args: [1, &quot;3.5&quot;, myHash],
                      kwArgs: [(&quot;mode&quot;, RbSymbol(&quot;debug&quot;)]) { blockArgs in
                          blockArgs.forEach {
                              process($0)
                          }
                          return .nilObject
                      }
} catch RbError.rubyException(let exn) {
    handleErrors(error)
} catch {
    ...
}
</code></pre>
                    </div>
                    <h5>Declaration</h5>
                    <div class="j2-item-declaration">
                    <div class="j2-callout-title" role="heading" aria-level="6">Swift</div>
                    <pre><code class="language-swift">public class RbObjectAccess</code></pre>
                    </div>
                    <nav class="j2-item-nav" aria-label="item details">
                      <span class="j2-item-nav-item"><a href="Classes/RbObjectAccess.html">Show members</a></span>
                      <span class="j2-item-nav-item"><a href="https://github.com/johnfairh/RubyGateway/tree/master/Sources/RubyGateway/RbObjectAccess.swift#L58-L122">Show on GitHub</a></span>
                    </nav>
                  </div>
                <div>
              </div>
            </section>
            <section id="s11RubyGateway18RbObjectCollectionV" class="j2-item">
              <a name="//apple_ref/cpp/Struct/RbObjectCollection" class="dashAnchor"></a>
              <h4 class="sr-only">RbObjectCollection</h4>
              <a class="j2-item-title" data-toggle="collapse" href="#_s11RubyGateway18RbObjectCollectionV" role="button" aria-expanded="false" aria-controls="_s11RubyGateway18RbObjectCollectionV"><code>RbObjectCollection</code></a>
              <div class="collapse j2-item-popopen-wrapper" id="_s11RubyGateway18RbObjectCollectionV">
                <div class="j2-item-popopen">
                  <div class="j2-item-popopen-pointer" role="none"></div>
                  <div class="j2-item-popopen-body">
                    <div class="clearfix">
                      <p>A view onto a Ruby array using Swift collection protocols.</p>

<p>This is an adapter type that wraps an <code><a href="Classes/RbObject.html">RbObject</a></code> and adopts
Swift collection protocols for use with an underlying Ruby
array (or any Ruby object that supports <code>length</code>, <code>[]</code>, and
<code>[]=</code>.)</p>

<p>For example:</p>
<pre><code class="language-swift">myObj.collection.replaceSubrange(lower..&lt;upper, with: otherArray)
</code></pre>
<p>This is separate to <code><a href="Classes/RbObject.html">RbObject</a></code> to avoid dumping all the
collection protocol members into its dynamic member lookup
namespace.</p>

                    </div>
                    <h5>Declaration</h5>
                    <div class="j2-item-declaration">
                    <div class="j2-callout-title" role="heading" aria-level="6">Swift</div>
                    <pre><code class="language-swift">public struct RbObjectCollection: <a href="https://developer.apple.com/documentation/swift/randomaccesscollection/">RandomAccessCollection</a>,
                                  <a href="https://developer.apple.com/documentation/swift/mutablecollection/">MutableCollection</a>,
                                  <a href="https://developer.apple.com/documentation/swift/rangereplaceablecollection/">RangeReplaceableCollection</a>,
                                  <a href="Protocols/RbObjectConvertible.html">RbObjectConvertible</a></code></pre>
                    </div>
                    <nav class="j2-item-nav" aria-label="item details">
                      <span class="j2-item-nav-item"><a href="Structs/RbObjectCollection.html">Show members</a></span>
                      <span class="j2-item-nav-item"><a href="https://github.com/johnfairh/RubyGateway/tree/master/Sources/RubyGateway/RbObjectCollection.swift#L23-L74">Show on GitHub</a></span>
                    </nav>
                  </div>
                <div>
              </div>
            </section>
          </section>
        </section>

        </article>
      </main>

      <!-- aux nav -->

      <div class="col-xl d-none d-xl-block j2-aux-nav" id="aux-nav-column">
        <div class="j2-aux-nav-wrapper">
          <h6 class="j2-inline-heading">Topics</h6>
          <nav aria-label="page">
            <ul class="j2-aux-group">
              <li><a href="#">Declaration</a></li>
            </ul>
          </nav>
          <h6 class="j2-inline-heading">Actions</h6>
          <ul class="j2-aux-group">
            <li><a class="j2-aux-action" id="action-search" href="#" role="button" aria-keyshortcuts="/">Search (/)</a></li>
            <li><a class="j2-aux-action" id="action-collapse" href="#" role="button" aria-keyshortcuts="a">
              <span id="action-collapse-expand">Open all (a)</span>
              <span id="action-collapse-collapse" class="d-none">Close all (a)</span>
            </a></li>
          </ul>
        </div>
      </div>

    </div> <!-- end row -->

    <footer class="row">
      <div class="col j2-footer small pt-2">
        <p><p>Distributed under the MIT license.  Maintained by <a class="link" href="mailto:johnfairh@gmail.com" target="_blank" rel="external">John Fairhurst</a>.</p></p>
        <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.13.1</a>-<a class="link" href="https://github.com/johnfairh/jazzy" target="_blank" rel="external">bebop</a>, originally a <a class="link" href="https://realm.io" target="_blank" rel="external">Realm</a> project.  Theme from <a href="https://github.com/johnfairh/J2">J2</a>.</p>
      </div>
    </footer>
  </div> <!-- container -->

  <script src="js/dependencies.min.js"></script>
  <script src="js/fw2020.js"></script>
  </body>

</html>
